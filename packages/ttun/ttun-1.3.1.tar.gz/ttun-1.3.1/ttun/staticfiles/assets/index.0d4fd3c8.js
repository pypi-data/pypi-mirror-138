var re=Object.defineProperty,se=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var J=(t,r,s)=>r in t?re(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,R=(t,r)=>{for(var s in r||(r={}))ae.call(r,s)&&J(t,s,r[s]);if(K)for(var s of K(r))oe.call(r,s)&&J(t,s,r[s]);return t},B=(t,r)=>se(t,ne(r));import{r as a,j as l,R as O,a as e,C as w,B as le,c as E,T as ie,b as G,d as A,e as ce,N as y,F as Y,f as de,g as he,L as I,I as ue,D as me,h as T,i as k,O as q,k as M,l as F,m as pe}from"./vendor.a7443efb.js";const fe=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};fe();function j(){return window.location.host}var N;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSING=2]="CLOSING",t[t.CLOSED=3]="CLOSED"})(N||(N={}));function ge({onConnect:t}){const r=a.exports.useMemo(j,[]),[s,o]=a.exports.useState(!0),[n,i]=a.exports.useState([]),[h,g]=a.exports.useState([]),v=a.exports.useCallback(()=>new WebSocket(`ws://${r}/inspect/`),[r]),[p,x]=a.exports.useState(()=>v()),[b,m]=a.exports.useState(p.readyState);return a.exports.useEffect(()=>{m(p.readyState);const f=()=>{m(p.readyState),x(v())},C=()=>{t(),o(!1),m(p.readyState)},_=({data:c})=>{const{type:d,payload:u}=JSON.parse(c);switch(d){case"historic":if(s){const L=u.filter(({type:S})=>S==="request"),te=u.filter(({type:S})=>S==="response");i(S=>[...S,...L.map(({payload:P})=>P)]),g(S=>[...S,...te.map(({payload:P})=>P)])}break;case"request":i(L=>[...L,u]);break;case"response":g(L=>[...L,u]);break}};return p.addEventListener("message",_),p.addEventListener("close",f),p.addEventListener("open",C),()=>{p.removeEventListener("message",_),p.removeEventListener("close",f),p.removeEventListener("open",C)}},[p]),{calls:a.exports.useMemo(()=>n.map(f=>({request:f,response:h.find(({id:C})=>C===f.id)})),[n,h]),readyState:b,clear:()=>{i([]),g([])}}}const ve="_app_1uh4e_1",be="_main_1uh4e_9",Ne="_sidebar_1uh4e_16",xe="_details_1uh4e_21";var H={app:ve,main:be,sidebar:Ne,details:xe};const Ce="_details_1n1bs_1",we="_header_1n1bs_9",ye="_content_1n1bs_14",ke="_noRequestSelected_1n1bs_20";var z={details:Ce,header:we,content:ye,noRequestSelected:ke};function $(t,r,s){return t>=r&&t<=s}function Se(t){if(t===void 0)return"secondary";if($(t,100,199))return"info";if($(t,200,299))return"success";if($(t,300,399))return"primary";if($(t,400,499))return"danger";if($(t,500,599))return"warning"}function Q({requestResponse:{request:t,response:r},selected:s=!1}){var o;return l(O,{children:[e(w,{className:"flex-grow-0 d-flex align-items-center",children:t.method}),e(w,{className:"flex-grow-1",children:t.path}),e(w,{className:"flex-grow-0 d-flex align-items-center",children:e(le,{className:E({border:s}),bg:Se(r==null?void 0:r.status),children:(o=r==null?void 0:r.status)!=null?o:"Loading..."})})]})}const Ee="_content_1sg4q_1",Te="_body_1sg4q_9",Me="_renderError_1sg4q_15";var V={content:Ee,body:Te,renderError:Me};const D=a.exports.createContext({});function _e({children:t}){const r=a.exports.useMemo(()=>new ie,[]),[s,o]=a.exports.useState(()=>r.getTheme()==="dark");return a.exports.useEffect(()=>{r.setTheme(s?"dark":"light")},[s]),e(D.Provider,{value:{darkMode:s,toggle:()=>o(n=>!n)},children:t})}function U(t,r,s){try{const[o,n]=t.find(([i])=>i.toLowerCase()===r.toLowerCase());return s!==void 0?`${n}${s}`:n}catch{return null}}function X({raw:t,setRaw:r,data:s}){return l("div",{className:V.content,children:[e(G,{fluid:!0,className:"border-bottom",children:l(O,{className:"py-3",children:[l(w,{className:"form-check form-switch ms-3",children:[e("input",{className:"form-check-input",id:"raw",type:"checkbox",checked:t,role:"switch",onChange:()=>r(!t)}),e("label",{htmlFor:"raw",className:"form-check-label",children:"Raw"})]}),e(w,{xs:"auto",children:[U(s.headers,"content-length","bytes"),U(s.headers,"content-type")].filter(o=>o!==null).join("; ")})]})}),e(O,{className:V.body,children:(()=>{try{return Le({data:s,raw:t})}catch{return l("div",{className:V.renderError,children:[e("p",{children:"Body could not be rendered"}),e(A,{variant:"link",onClick:()=>r(!0),children:"View raw"})]})}})()})]})}function Le({data:t,raw:r=!1}){const{darkMode:s}=a.exports.useContext(D),o=a.exports.useMemo(()=>r?"":U(t.headers,"content-type").toLowerCase().split(";")[0],[t,r]);if(r)return e("pre",{className:"mb-0",children:e("code",{children:atob(t.body)})});if(["application/pdf","text/html"].includes(o))return e("iframe",{className:"bg-white",src:`data:${o};base64,${t.body}`,srcDoc:o==="text/html"?atob(t.body):void 0,loading:"lazy",sandbox:""});if(o.startsWith("application/json"))return e(ce,{src:JSON.parse(atob(t.body)),theme:s?"monokai":void 0,style:{padding:"1em",width:"100%",height:"100%",overflowY:"auto"}});if(o.startsWith("audio"))return e("audio",{src:`data:${o};base64,${t.body}`});if(o.startsWith("video"))return e("video",{src:`data:${o};base64,${t.body}`});if(o.startsWith("image"))return e("img",{src:`data:${o};base64,${t.body}`,alt:""});throw new Error("Not Rendered")}function Oe({timing:t}){const r=a.exports.useMemo(()=>Math.round(t*1e3)/1e3,[t]),s=a.exports.useMemo(()=>r>1,[r]);return Number.isNaN(r)?null:e(Y,{children:`${s?r:r*1e3}${s?"s":"ms"}`})}function Z({title:t,headers:r}){return e(de,{className:"m-3",children:l(he,{striped:!0,responsive:!0,borderless:!0,hover:!0,className:"mb-0",children:[e("thead",{children:e("tr",{children:e("th",{colSpan:2,className:"bg-dark text-white rounded-top",children:t})})}),e("tbody",{children:r.map(([s,o])=>l("tr",{children:[e("td",{children:s}),e("td",{children:o})]}))})]})})}function ze({requestResponse:t}){var h,g;const[r,s]=a.exports.useState("headers"),[o,n]=a.exports.useState(!1),i=a.exports.useCallback(async()=>t!==null&&fetch(`http://${j()}/resend/`,{method:"POST",body:JSON.stringify(B(R({},t.request),{id:void 0}))}),[t]);return t!==null?l("div",{className:z.details,children:[l("div",{className:z.header,children:[e(O,{children:e(w,{children:e(G,{fluid:!0,style:{fontSize:"1.5em"},className:"py-3",children:e(Q,{requestResponse:t,className:z.summary})})})}),l(O,{className:"gx-0 d-flex",children:[e(w,{children:l(y,{variant:"tabs",activeKey:r,onSelect:v=>s(v),children:[e(y.Item,{children:e(y.Link,{eventKey:"headers",children:"Headers"})}),e(y.Item,{children:e(y.Link,{eventKey:"request",children:"Request"})}),e(y.Item,{children:e(y.Link,{eventKey:"response",disabled:t.response===void 0,children:"Response"})})]})}),l(w,{className:"border-bottom px-3 ",xs:"auto",children:[e(Oe,{timing:(g=(h=t.response)==null?void 0:h.timing)!=null?g:NaN}),e(A,{variant:"outline-primary",onClick:()=>i(),className:"ms-3",children:"Resend"})]})]})]}),l("div",{className:z.content,children:[r==="headers"&&l(Y,{children:[e(Z,{title:"request headers",headers:t.request.headers}),t.response&&e(Z,{title:"response headers",headers:t.response.headers})]}),r==="request"&&e(X,{data:t.request,raw:o,setRaw:n}),r==="response"&&t.response!==void 0&&e(X,{data:t.response,raw:o,setRaw:n})]})]}):e("div",{className:z.noRequestSelected,children:e("p",{children:"Select a request to inspect it"})})}function $e(){return e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-sliders",viewBox:"0 0 16 16",children:e("path",{"fill-rule":"evenodd",d:"M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"})})}function Ie(){return e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-sun",viewBox:"0 0 16 16",children:e("path",{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"})})}function qe(){return e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-moon",viewBox:"0 0 16 16",children:e("path",{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"})})}function He(){return l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[e("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),e("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})}const De="_noRequest_rvekj_1",Pe="_list_rvekj_9",Re="_listContainer_rvekj_13";var W={noRequest:De,list:Pe,listContainer:Re};function Be(){return e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-filter",viewBox:"0 0 16 16",children:e("path",{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})})}function Ge({requests:t,selectedRequestIndex:r,setSelectedRequestIndex:s}){const{darkMode:o}=a.exports.useContext(D),[n,i]=a.exports.useState(!1),[h,g]=a.exports.useState(""),[v,p]=a.exports.useState(!1),[x,b]=a.exports.useState({GET:!0,POST:!0,PUT:!0,PATCH:!0,DELETE:!0}),m=a.exports.useCallback(c=>{const d=c==null,u={GET:d,POST:d,PUT:d,PATCH:d,DELETE:d};d||(u[c]=!0),b(u)},[]),f=a.exports.useMemo(()=>Object.entries(x).filter(([c,d])=>d).map(([c])=>c),[x]),C=a.exports.useMemo(()=>f.length==1?f[0]:f.length===5?"ANY":"CUSTOM",[f]),_=a.exports.useMemo(()=>{let c=new RegExp("");try{c=new RegExp(v?h:h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i")}catch{}return t.map((d,u)=>[u,d]).reverse().filter(([d,u])=>f.length>0===null||f.includes(u.request.method)).filter(([d,u])=>h===""||c.test(`${u.request.method} ${u.request.path}`))},[t,h,f,v]);return l("div",{className:E(W.listContainer,"d-flex"),children:[e(I,{variant:"flush",className:E("flex-grow-0","border-bottom"),children:e(I.Item,{children:l(ue,{children:[l(me,{variant:"primary",title:C,children:[e(T.Item,{onClick:()=>m(null),children:"ANY"}),e(T.Divider,{}),e(T.Item,{onClick:()=>m("GET"),children:"GET"}),e(T.Item,{onClick:()=>m("POST"),children:"POST"}),e(T.Item,{onClick:()=>m("PUT"),children:"PUT"}),e(T.Item,{onClick:()=>m("PATCH"),children:"PATCH"}),e(T.Item,{onClick:()=>m("DELETE"),children:"DELETE"})]}),e(k.Control,{type:"text",className:"border-secondary",value:h,placeholder:"Search...",onChange:({target:c})=>g(c.value)}),e(A,{variant:n?"secondary":"outline-secondary",onClick:()=>i(!0),children:e(Be,{})})]})})}),e(I,{variant:"flush",as:"ul",className:E(W.list,"flex-grow-1"),children:_.length>0?_.map(([c,d])=>{const u=r===c;return e(I.Item,{as:"li",onClick:()=>s(c),className:E({"bg-primary":u,"text-light":u,"border-bottom":!0}),children:e(Q,{requestResponse:d,selected:u})},`request-${c}`)}):e("div",{className:W.noRequest,children:e("p",{children:"No requests"})})}),l(q,{className:E({"bg-dark":o}),show:n,onHide:()=>i(!1),children:[e(q.Header,{closeButton:!0,children:e(q.Title,{children:"Filter Options"})}),l(q.Body,{children:[l(k.Group,{className:"mb-4",children:[e(k.Label,{className:"fw-bold",children:"Search"}),e(k.Control,{type:"text",value:h,placeholder:"Search...",onChange:({target:c})=>g(c.value)}),e(k.Check,{className:"mt-2",type:"switch",label:"Regex search",checked:v,onChange:()=>p(!v)})]}),l(k.Group,{children:[e(k.Label,{className:"fw-bold",children:"Method"}),Object.entries(x).map(([c,d])=>e(k.Check,{type:"switch",label:c,checked:d,onChange:()=>b(B(R({},x),{[c]:!d}))}))]})]})]})]})}const ee={[N.CONNECTING]:"\u{1F534}",[N.OPEN]:"\u{1F7E2}",[N.CLOSING]:"\u{1F534}",[N.CLOSED]:"\u{1F534}"},Ae={[N.CONNECTING]:"Connecting...",[N.OPEN]:"Connected",[N.CLOSING]:"Closing...",[N.CLOSED]:"Closed"};function Fe(){const{darkMode:t,toggle:r}=a.exports.useContext(D),[s,o]=a.exports.useState(null),{calls:n,readyState:i,clear:h}=ge({onConnect:async()=>{const m=await(await fetch(`http://${j()}/config/`)).json();o(m)}});a.exports.useEffect(()=>{var m;const b=new URL((m=s==null?void 0:s.url)!=null?m:"https://loading...");document.title=`${ee[i]} ${b.host} | TTUN`},[i,s==null?void 0:s.url]);const[g,v]=a.exports.useState(null),p=a.exports.useMemo(()=>g===null?null:n[g],[g,n]),x=[{onClick:r,icon:t?e(Ie,{}):e(qe,{}),label:t?"Light mode":"Dark mode"},null,{onClick:()=>{v(null),h()},icon:e(He,{}),label:"Clear"}];return s&&l("div",{className:H.app,children:[e(M,{bg:"dark",variant:"dark",expand:!0,as:"header",children:l(G,{fluid:!0,children:[l("div",{children:[e(M.Brand,{children:"TTUN"}),e(M.Text,{children:`${ee[i]} ${Ae[i]}`})]}),l("div",{className:"d-flex",children:[e(M.Text,{children:e("a",{href:s.url,target:"_blank",children:s.url})}),e(M.Toggle,{"aria-controls":"settings"}),e(M.Collapse,{id:"settings",className:"ms-2",children:e(y,{children:e(F,{align:"end",title:e($e,{}),children:x.map(b=>{if(b!==null){const{onClick:m,icon:f,label:C}=b;return l(F.Item,{onClick:m,className:"d-flex align-items-center",children:[f,e("span",{className:"ms-3",children:C})]})}else return e(F.Divider,{})})})})})]})]})}),l("main",{className:H.main,children:[e("div",{className:E("border-end",H.sidebar),children:e(Ge,{requests:n,selectedRequestIndex:g,setSelectedRequestIndex:v})}),e("div",{className:H.details,children:e(ze,{requestResponse:p})})]})]})}pe.exports.render(e(_e,{children:e(Fe,{})}),document.getElementById("root"));
