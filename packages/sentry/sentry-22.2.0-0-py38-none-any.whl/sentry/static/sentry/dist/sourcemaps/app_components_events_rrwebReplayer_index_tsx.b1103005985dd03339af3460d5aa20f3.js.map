{"version":3,"file":"chunks/app_components_events_rrwebReplayer_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"goBAWA,MAAMA,EAAoB,IAA6B,IAA5B,IAACC,EAAD,UAAMC,GAAsB,EACrD,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAgC,OACzDC,EAAQC,IAAaF,EAAAA,EAAAA,YAiC5B,OApBAG,EAAAA,EAAAA,YAAU,KAXSC,WACjB,IACE,MAAMC,QAAaC,MAAMV,GACnBW,QAAaF,EAAKG,OAExBN,EAAUK,EAAKN,QACf,MAAOQ,GACPC,EAAAA,GAAwBD,KAIPE,KAAc,CAACf,KAkBpCO,EAAAA,EAAAA,YAAU,UAfOS,IAAXX,GAIa,OAAbH,GAKJ,IAAIe,EAAAA,EAAY,CACdC,OAAQhB,EACRiB,MAAO,CAACd,OAAAA,EAAQe,UAAU,OAIK,CAACf,EAAQH,KAErC,eAAKmB,IAAKC,GAAMnB,EAAYmB,GAAKrB,UAAWA,KAnC/CF,EAAAA,YAAAA,oBAsCN,UCoKA,GA/MsB,OAAOA,EAAP,sBAAH,6IAQKwB,GAAKA,EAAEC,MAAMC,QARlB,sYAmCJF,GAAKA,EAAEC,MAAME,OAAOC,SAnChB,sDAyCJC,EAAAA,EAAAA,GAAM,GAzCF,kBA0CDL,GAAKA,EAAEC,MAAMK,YA1CZ,gDA4CKN,GAAKA,EAAEC,MAAMC,QA5ClB,6CA+CNF,GAAKA,EAAEC,MAAMM,WA/CP,8IA2DNP,GAAKA,EAAEC,MAAMM,WA3DP,0GAsECP,GAAKA,EAAEC,MAAMO,aAtEd,iOA2FDR,GAAKA,EAAEC,MAAMQ,WA3FZ,0IAqGDT,GAAKA,EAAEC,MAAMS,WArGZ,gGA4GRL,EAAAA,EAAAA,GAAM,KA5GE,yDA+GFL,GAAKA,EAAEC,MAAMU,eA/GX,wCAmHNX,GAAKA,EAAEC,MAAMM,WAnHP,qMAiILP,GAAKA,EAAEC,MAAMM,WAjIR,qDAsIDP,GAAKA,EAAEC,MAAMO,aAtIZ,+CA0INR,GAAKA,EAAEC,MAAMW,OA1IP,gBA2IDZ,GAAKA,EAAEC,MAAMY,QA3IZ,sfA2LKb,GAAKA,EAAEC,MAAMC,QA3LlB,sIAqMDF,GAAKA,EAAEC,MAAMC,QArMZ,8EA0MDF,GAAKA,EAAEC,MAAMY,QA1MZ","sources":["webpack:///./app/components/events/rrwebReplayer/rrWebReplayer.tsx","webpack:///./app/components/events/rrwebReplayer/index.tsx"],"sourcesContent":["import {useEffect, useState} from 'react';\nimport * as Sentry from '@sentry/react';\nimport RRWebPlayer from 'rrweb-player';\n\ntype Props = {\n  url: string;\n  className?: string;\n};\n\ntype RRwebEvents = ConstructorParameters<typeof RRWebPlayer>[0]['props']['events'];\n\nconst BaseRRWebReplayer = ({url, className}: Props) => {\n  const [playerEl, setPlayerEl] = useState<HTMLDivElement | null>(null);\n  const [events, setEvents] = useState<RRwebEvents>();\n\n  const loadEvents = async () => {\n    try {\n      const resp = await fetch(url);\n      const data = await resp.json();\n\n      setEvents(data.events);\n    } catch (err) {\n      Sentry.captureException(err);\n    }\n  };\n\n  useEffect(() => void loadEvents(), [url]);\n\n  const initPlayer = () => {\n    if (events === undefined) {\n      return;\n    }\n\n    if (playerEl === null) {\n      return;\n    }\n\n    // eslint-disable-next-line no-new\n    new RRWebPlayer({\n      target: playerEl,\n      props: {events, autoPlay: false},\n    });\n  };\n\n  useEffect(() => void initPlayer(), [events, playerEl]);\n\n  return <div ref={el => setPlayerEl(el)} className={className} />;\n};\n\nexport default BaseRRWebReplayer;\n","import styled from '@emotion/styled';\n\nimport space from 'sentry/styles/space';\n\nimport BaseRRWebReplayer from './rrWebReplayer';\n\nconst RRWebReplayer = styled(BaseRRWebReplayer)`\n  .rr-player {\n    width: auto !important;\n    height: auto !important;\n  }\n  .rr-player__frame {\n    width: 100% !important;\n    border-radius: 3px 3px 0 0;\n    border: 1px solid ${p => p.theme.border};\n    overflow: hidden;\n  }\n\n  .rr-player iframe {\n    width: 100% !important;\n    height: 100% !important;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border: 0;\n  }\n\n  .replayer-wrapper {\n    transform: scale(0.6) translate(0, 0) !important;\n    transform-origin: top left;\n    width: 166.66%;\n    height: 166.66%;\n    overflow: hidden;\n    position: relative;\n    box-shadow: inset 0 -1px 3px rgba(0, 0, 0, 0.08);\n  }\n\n  .replayer-mouse,\n  .replayer-mouse:after {\n    z-index: ${p => p.theme.zIndex.tooltip};\n  }\n\n  .rr-controller {\n    width: 100%;\n    display: block;\n    padding: ${space(2)} 0;\n    background: ${p => p.theme.background};\n    border-radius: 0 0 3px 3px;\n    border: 1px solid ${p => p.theme.border};\n    border-top: none;\n    position: relative;\n    color: ${p => p.theme.textColor};\n  }\n\n  .rr-timeline {\n    width: 100%;\n    display: grid;\n    grid-template-columns: 90px 1fr 90px;\n    align-items: center;\n  }\n\n  .rr-timeline__time {\n    text-align: center;\n    color: ${p => p.theme.textColor};\n  }\n\n  .rr-progress {\n    width: 100%;\n    height: 12px;\n    position: relative;\n    cursor: pointer;\n\n    &:before {\n      content: '';\n      background: ${p => p.theme.innerBorder};\n      border-radius: 3px;\n      display: block;\n      height: 6px;\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 3px;\n    }\n  }\n\n  .rr-progress.disabled {\n    cursor: not-allowed;\n  }\n\n  .rr-progress__step {\n    height: 6px;\n    position: absolute;\n    left: 0;\n    top: 3px;\n    border-radius: 3px;\n    background: ${p => p.theme.purple200};\n  }\n\n  .rr-progress__handler {\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    position: absolute;\n    top: 6px;\n    transform: translate(-50%, -50%);\n    background: ${p => p.theme.purple300};\n  }\n\n  .rr-controller__btns {\n    display: grid;\n    grid-auto-flow: column;\n    grid-auto-columns: max-content;\n    gap: ${space(0.75)};\n    align-items: center;\n    justify-content: center;\n    font-size: ${p => p.theme.fontSizeSmall};\n  }\n\n  .rr-controller__btns button {\n    color: ${p => p.theme.textColor};\n    width: 28px;\n    height: 28px;\n    display: flex;\n    padding: 0;\n    align-items: center;\n    justify-content: center;\n    background: none;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    transition: background 200ms ease;\n\n    > svg {\n      fill: ${p => p.theme.textColor};\n    }\n  }\n\n  .rr-controller__btns button:active {\n    background: ${p => p.theme.innerBorder};\n  }\n\n  .rr-controller__btns button.active {\n    color: ${p => p.theme.white};\n    background: ${p => p.theme.active};\n  }\n\n  .rr-controller__btns button:disabled {\n    cursor: not-allowed;\n  }\n\n  .switch {\n    height: 1em;\n    display: flex;\n    align-items: center;\n  }\n\n  .switch.disabled {\n    opacity: 0.5;\n  }\n\n  .label {\n    margin: 0 8px;\n  }\n\n  .switch input[type='checkbox'] {\n    position: absolute;\n    visibility: hidden;\n  }\n\n  .switch label {\n    width: 32px;\n    height: 16px;\n    position: relative;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    margin: 0;\n    padding: 2px 3px;\n  }\n\n  .switch.disabled label {\n    cursor: not-allowed;\n  }\n\n  .switch label:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: 1px solid ${p => p.theme.border};\n    border-radius: 16px;\n  }\n\n  .switch label:after {\n    content: '';\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    transition: all 200ms ease;\n    background: ${p => p.theme.border};\n    z-index: 2;\n  }\n\n  .switch input[type='checkbox']:checked + label:after {\n    background: ${p => p.theme.active};\n    transform: translateX(16px);\n  }\n`;\n\nexport default RRWebReplayer;\n"],"names":["BaseRRWebReplayer","url","className","playerEl","setPlayerEl","useState","events","setEvents","useEffect","async","resp","fetch","data","json","err","Sentry","loadEvents","undefined","RRWebPlayer","target","props","autoPlay","ref","el","p","theme","border","zIndex","tooltip","space","background","textColor","innerBorder","purple200","purple300","fontSizeSmall","white","active"],"sourceRoot":""}