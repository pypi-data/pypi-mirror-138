"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_dashboardWidgetLibraryModal_index_tsx"],{"./app/components/modals/dashboardWidgetLibraryModal/index.tsx":(e,t,i)=>{i.r(t),i.d(t,{default:()=>L,modalCss:()=>C});var s=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(i("../node_modules/core-js/modules/web.dom-collections.iterator.js"),i("../node_modules/react/index.js")),d=i("./app/components/tooltip.tsx"),n=i("./app/locale.tsx"),a=i("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),o=i("./app/views/dashboardsV2/layoutUtils.tsx"),l=i("./app/views/dashboardsV2/types.tsx"),c=i("./app/components/button.tsx"),p=i("./app/components/buttonBar.tsx"),u=i("./app/components/alert.tsx"),g=i("./app/styles/space.tsx");const m=[{id:void 0,title:(0,n.t)("Duration Distribution"),description:(0,n.t)("Compare transaction durations across different percentiles."),displayType:l.FO.LINE,widgetType:l.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)"],orderby:""}]},{id:void 0,title:(0,n.t)("High Throughput Transactions"),description:(0,n.t)("Top 5 transactions with the largest volume."),displayType:l.FO.TOP_N,widgetType:l.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["transaction","count()"],orderby:"-count"}]},{id:void 0,title:(0,n.t)("LCP by Country"),description:(0,n.t)("Density map showing page load times by country."),displayType:l.FO.WORLD_MAP,widgetType:l.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"has:geo.country_code",fields:["p75(measurements.lcp)"],orderby:""}]},{id:void 0,title:(0,n.t)("Miserable Users"),description:(0,n.t)("Unique users who have experienced slow load times."),displayType:l.FO.BIG_NUMBER,widgetType:l.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"",fields:["count_miserable(user,300)"],orderby:""}]},{id:void 0,title:(0,n.t)("Slow vs. Fast Transactions"),description:(0,n.t)("Percentage breakdown of transaction durations over and under 300ms."),displayType:l.FO.BAR,widgetType:l.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["equation|(count_if(transaction.duration,greater,300) / count()) * 100","equation|(count_if(transaction.duration,lessOrEquals,300) / count()) * 100"],orderby:""}]},{id:void 0,title:(0,n.t)("Issues For Review"),description:(0,n.t)("Most recently seen unresolved issues for review."),displayType:l.FO.TABLE,widgetType:l.l9.ISSUE,interval:"5m",queries:[{name:"",conditions:"is:unresolved is:for_review",fields:["issue","assignee","events","title"],orderby:"date"}]},{id:void 0,title:(0,n.t)("Top Unhandled Error Types"),description:(0,n.t)("Most frequently encountered unhandled errors."),displayType:l.FO.TOP_N,widgetType:l.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"error.unhandled:true",fields:["error.type","count()"],orderby:"-count"}]},{id:void 0,title:(0,n.t)("Users Affected by Errors"),description:(0,n.t)("Footprint of unique users affected by errors."),displayType:l.FO.LINE,widgetType:l.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:error",fields:["count_unique(user)","count()"],orderby:""}]}];var y=i("./app/components/panels/index.tsx"),h=i("./app/icons/index.tsx"),b=i("./app/icons/iconGraphArea.tsx"),x=i("./app/icons/iconGraphBar.tsx"),v=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function w(e){let{selectedWidgets:t,widget:i,setSelectedWidgets:s,"data-test-id":d}=e;const[n,a]=(0,r.useState)(t.includes(i));return(0,v.tZ)(_,{"data-test-id":d,selected:n,onClick:()=>{if(n){const e=t.filter((e=>i!==e));s(e)}else{const e=t.slice().concat(i);s(e)}a(!n)},children:(0,v.BX)(y.N,{children:[(0,v.BX)(f,{children:[function(e){switch(e){case l.FO.TABLE:return(0,v.tZ)(h.dc,{size:"xs"});case l.FO.WORLD_MAP:return(0,v.tZ)(h.vc,{size:"xs"});case l.FO.BIG_NUMBER:return(0,v.tZ)(h.A8,{size:"xs"});case l.FO.BAR:return(0,v.tZ)(x.U,{size:"xs"});case l.FO.TOP_N:return(0,v.tZ)(h.CC,{size:"xs"});case l.FO.AREA:return(0,v.tZ)(b.g,{size:"xs"});case l.FO.LINE:default:return(0,v.tZ)(h.TX,{size:"xs"})}}(i.displayType),(0,v.tZ)(Z,{children:i.title})]}),(0,v.tZ)(T,{children:i.description})]})})}w.displayName="WidgetLibraryCard";const Z=(0,s.Z)("div",{target:"e11j9f793"})("padding-left:",(0,g.Z)(1),";font-size:16px;line-height:140%;color:",(e=>e.theme.gray500),";"),f=(0,s.Z)("div",{target:"e11j9f792"})("padding:",(0,g.Z)(1.5)," ",(0,g.Z)(2),";padding-bottom:",(0,g.Z)(.5),";display:flex;align-items:center;"),T=(0,s.Z)("div",{target:"e11j9f791"})("padding:0 ",(0,g.Z)(1)," ",(0,g.Z)(1.5)," 36px;font-size:14px;line-height:21px;color:",(e=>e.theme.gray300),";"),_=(0,s.Z)(y.s_,{target:"e11j9f790"})("margin-bottom:0;border:",(e=>"1px solid "+e.theme.border),";outline:",(e=>e.selected?"2px solid"+e.theme.purple400:void 0),";box-sizing:border-box;box-shadow:0px 2px 1px rgba(0, 0, 0, 0.08);cursor:pointer;"),W=w;function O(e){let{selectedWidgets:t,errored:i,setSelectedWidgets:s,setErrored:d}=e;return(0,v.BX)(r.Fragment,{children:[i&&!t.length?(0,v.tZ)(u.Z,{type:"error",children:(0,n.t)("Please select at least one Widget from our Library. Alternatively, you can build a custom widget from scratch.")}):null,(0,v.tZ)(E,{children:m.map(((e,i)=>(0,v.tZ)(W,{"data-test-id":`widget-library-card-${i}`,widget:e,selectedWidgets:t,setSelectedWidgets:s,setErrored:d},e.title)))})]})}O.displayName="DashboardWidgetLibraryTab";const E=(0,s.Z)("div",{target:"e15svj9l0"})("display:grid;grid-template-columns:repeat(2, minmax(100px, 1fr));grid-template-rows:repeat(2, max-content);row-gap:",(0,g.Z)(1.5),";column-gap:",(0,g.Z)(2),";@media (max-width: 700px){grid-template-columns:auto;}"),F=O;var B=i("./app/components/modals/dashboardWidgetLibraryModal/tabsButtonBar.tsx");function A(e){let{Header:t,Body:i,Footer:s,dashboard:u,organization:g,customWidget:m,initialSelectedWidgets:y,closeModal:h,onAddWidget:b}=e;const[x,w]=(0,r.useState)(y||[]),[Z,f]=(0,r.useState)(!1),T=u.widgets.length+x.length>l.ZU;return(0,v.BX)(r.Fragment,{children:[(0,v.tZ)(t,{closeButton:!0,children:(0,v.tZ)("h4",{children:(0,n.t)("Add Widget(s)")})}),(0,v.BX)(i,{children:[(0,v.tZ)(B.$,{activeTab:B.M.Library,organization:g,dashboard:u,selectedWidgets:x,customWidget:m,onAddWidget:b}),(0,v.tZ)(F,{selectedWidgets:x,errored:Z,setSelectedWidgets:w,setErrored:f})]}),(0,v.tZ)(s,{children:(0,v.BX)(p.ZP,{gap:1,children:[(0,v.tZ)(c.ZP,{external:!0,href:"https://docs.sentry.io/product/dashboards/widget-library/",children:(0,n.t)("Read the docs")}),(0,v.tZ)(d.Z,{title:(0,n._N)("Exceeds max widgets ([maxWidgets]) per dashboard. Plese unselect [unselectWidgets] widget(s).",{maxWidgets:l.ZU,unselectWidgets:u.widgets.length+x.length-l.ZU}),disabled:!T,children:(0,v.tZ)(S,{"data-test-id":"confirm-widgets",priority:"primary",disabled:T,type:"button",onClick:()=>{x.length?((0,a.Z)("dashboards_views.widget_library.add",{organization:g,num_widgets:x.length}),x.forEach((e=>{(0,a.Z)("dashboards_views.widget_library.add_widget",{organization:g,title:e.title})})),b([...u.widgets,...x.map(o.TE)]),h()):f(!0)},children:x.length?(0,n._N)("Add ([numWidgets])",{numWidgets:x.length}):(0,n.t)("Add")})})]})})]})}A.displayName="DashboardWidgetLibraryModal";const C={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},S=(0,s.Z)(c.ZP,{target:"e1g50rat0"})({name:"g740v2",styles:"min-width:90px"}),L=A}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_dashboardWidgetLibraryModal_index_tsx.e0d86fbb21428be0aef34b826a3eda44.js.map