(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_utils_analytics_trackAdvancedAnalyticsEvent_tsx-app_views_settings_project_projectOwnersh-ba78c8"],{"./app/actionCreators/projects.tsx":(e,t,s)=>{"use strict";s.d(t,{Vx:()=>u,Nh:()=>h,$P:()=>g,pK:()=>_,rR:()=>b,bL:()=>f,Oe:()=>v,M9:()=>w,TA:()=>S,$L:()=>j,iC:()=>y,xV:()=>x,mf:()=>Z}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/lodash/chunk.js"),o=s.n(r),a=s("../node_modules/lodash/debounce.js"),i=s.n(a),n=s("./app/actionCreators/indicator.tsx"),l=s("./app/actions/projectActions.tsx"),d=s("./app/locale.tsx"),c=s("./app/stores/projectsStatsStore.tsx");function u(e,t){l.Z.update(t.projectId,t.data);const s=`/projects/${t.orgId}/${t.projectId}/`;return e.requestPromise(s,{method:"PUT",data:t.data}).then((e=>(l.Z.updateSuccess(e),e)),(e=>{throw l.Z.updateError(e,t.projectId),e}))}function h(e,t){l.Z.loadStats(t.orgId,t.data);const s=`/organizations/${t.orgId}/stats/`;e.request(s,{query:t.query,success:e=>{l.Z.loadStatsSuccess(e)},error:e=>{l.Z.loadStatsError(e)}})}const p=new Set,m=i()(((e,t,s)=>{const r=c.Z.getAll(),a=Object.values(r).map((e=>{let{id:t}=e;return t})),i=Array.from(t).filter((e=>!a.includes(e)));if(!i.length)return void p.clear();const u=o()(i,10).map((t=>((e,t,s,r)=>{const o=`/organizations/${s}/projects/`,a={statsPeriod:"24h",query:t.map((e=>`id:${e}`)).join(" "),...r};return e.requestPromise(o,{query:a})})(e,t,s.orgId,s.query)));Promise.all(u).then((e=>{l.Z.loadStatsForProjectSuccess(e.reduce(((e,t)=>e.concat(t)),[]))})).catch((()=>{(0,n.Iw)((0,d.t)("Unable to fetch all project stats"))})),p.clear()}),50);function g(e,t,s){p.add(t),m(e,p,s)}function _(e){l.Z.setActive(e)}function b(e,t,s){const r=`/projects/${t}/${s.slug}/`;return l.Z.removeProject(s),e.requestPromise(r,{method:"DELETE"}).then((()=>{l.Z.removeProjectSuccess(s),(0,n.S9)((0,d._N)("[project] was successfully removed",{project:s.slug}))}),(e=>{throw l.Z.removeProjectError(s),(0,n.Iw)((0,d._N)("Error removing [project]",{project:s.slug})),e}))}function f(e,t,s,r){const o=`/projects/${t}/${s.slug}/transfer/`;return e.requestPromise(o,{method:"POST",data:{email:r}}).then((()=>{(0,n.S9)((0,d._N)("A request was sent to move [project] to a different organization",{project:s.slug}))}),(e=>{let t="";var r;throw e.status>=400&&e.status<500&&e.responseJSON&&(t=null===(r=e.responseJSON)||void 0===r?void 0:r.detail),t?(0,n.Iw)((0,d._N)("Error transferring [project]. [message]",{project:s.slug,message:t})):(0,n.Iw)((0,d._N)("Error transferring [project]",{project:s.slug})),e}))}function v(e,t,s,r){const o=`/projects/${t}/${s}/teams/${r.slug}/`;return(0,n.E3)(),l.Z.addTeam(r),e.requestPromise(o,{method:"POST"}).then((e=>{(0,n.S9)((0,d._N)("[team] has been added to the [project] project",{team:`#${r.slug}`,project:s})),l.Z.addTeamSuccess(r,s),l.Z.updateSuccess(e)}),(e=>{throw(0,n.Iw)((0,d._N)("Unable to add [team] to the [project] project",{team:`#${r.slug}`,project:s})),l.Z.addTeamError(),e}))}function w(e,t,s,r){const o=`/projects/${t}/${s}/teams/${r}/`;return(0,n.E3)(),l.Z.removeTeam(r),e.requestPromise(o,{method:"DELETE"}).then((e=>{(0,n.S9)((0,d._N)("[team] has been removed from the [project] project",{team:`#${r}`,project:s})),l.Z.removeTeamSuccess(r,s),l.Z.updateSuccess(e)}),(e=>{throw(0,n.Iw)((0,d._N)("Unable to remove [team] from the [project] project",{team:`#${r}`,project:s})),l.Z.removeTeamError(e),e}))}function S(e,t){l.Z.changeSlug(e,t)}function j(e,t,s,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return e.requestPromise(`/teams/${t}/${s}/projects/`,{method:"POST",data:{name:r,platform:o,default_rules:a.defaultRules}})}function y(e,t,s,r){return e.requestPromise(`/projects/${t}/${s}/docs/${r}/`)}function x(e,t){return e.requestPromise(`/organizations/${t}/projects-count/`)}async function Z(e,t,s){return(await e.requestPromise(`/organizations/${t}/releases/stats/`,{method:"GET",query:{statsPeriod:"90d",project:s,per_page:1}})).length>0}},"./app/actions/organizationActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s("../node_modules/reflux/src/index.js");const o=s.n(r)().createActions(["reset","fetchOrgError","update"])},"./app/actions/projectActions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s("../node_modules/reflux/src/index.js");const o=s.n(r)().createActions(["addTeam","addTeamError","addTeamSuccess","changeSlug","createSuccess","loadProjects","loadStats","loadStatsError","loadStatsForProjectSuccess","loadStatsSuccess","removeProject","removeProjectError","removeProjectSuccess","removeTeam","removeTeamError","removeTeamSuccess","reset","setActive","update","updateError","updateSuccess"])},"./app/components/deprecatedforms/form.tsx":(e,t,s)=>{"use strict";s.d(t,{G:()=>m,Z:()=>g});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react/index.js"),i=s("../node_modules/lodash/isEqual.js"),n=s.n(i),l=s("./app/components/button.tsx"),d=s("./app/components/deprecatedforms/formContext.tsx"),c=s("./app/components/forms/state.tsx"),u=s("./app/locale.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class p extends a.Component{constructor(e,t){super(e,t),(0,r.Z)(this,"onSubmit",(e=>{if(e.preventDefault(),!this.props.onSubmit)throw new Error("onSubmit is a required prop");this.props.onSubmit(this.state.data,this.onSubmitSuccess,this.onSubmitError)})),(0,r.Z)(this,"onSubmitSuccess",(e=>{this.setState({state:c.Z.READY,errors:{},initialData:{...this.state.data,...e||{}}}),this.props.onSubmitSuccess&&this.props.onSubmitSuccess(e)})),(0,r.Z)(this,"onSubmitError",(e=>{this.setState({state:c.Z.ERROR,errors:e.responseJSON}),this.props.resetOnError&&this.setState({initialData:{}}),this.props.onSubmitError&&this.props.onSubmitError(e)})),(0,r.Z)(this,"onFieldChange",((e,t)=>{this.setState((s=>({data:{...s.data,[e]:t}})))})),this.state={data:{...this.props.initialData},errors:{},initialData:{...this.props.initialData},state:c.Z.READY}}getContext(){const{data:e,errors:t}=this.state;return{form:{data:e,errors:t,onFieldChange:this.onFieldChange}}}render(){var e,t;const s=this.state.state===c.Z.SAVING,{initialData:r,data:o}=this.state,{errorMessage:a,hideErrors:i,requireChanges:p}=this.props,g=!p||Object.keys(o).length&&!n()(o,r),_=this.state.state===c.Z.ERROR,b=this.state.errors&&this.state.errors.non_field_errors;return(0,h.tZ)(d.Z.Provider,{value:this.getContext(),children:(0,h.BX)(m,{onSubmit:this.onSubmit,className:this.props.className,children:[_&&!i&&(0,h.tZ)("div",{className:"alert alert-error alert-block",children:b?(0,h.BX)("div",{children:[(0,h.tZ)("p",{children:(0,u.t)("Unable to save your changes. Please correct the following errors try again.")}),(0,h.tZ)("ul",{children:b.map(((e,t)=>(0,h.tZ)("li",{children:e},t)))})]}):a}),this.props.children,(0,h.BX)("div",{className:this.props.footerClass,style:{marginTop:25},children:[(0,h.tZ)(l.ZP,{priority:"primary",disabled:s||this.props.submitDisabled||!g,type:"submit","aria-label":null!==(e=this.props.submitLabel)&&void 0!==e?e:(0,u.t)("Submit"),children:this.props.submitLabel}),this.props.onCancel&&(0,h.tZ)(l.ZP,{type:"button",disabled:s,onClick:this.props.onCancel,style:{marginLeft:5},"aria-label":null!==(t=this.props.cancelLabel)&&void 0!==t?t:(0,u.t)("Cancel"),children:this.props.cancelLabel}),this.props.extraButton]})]})})}}p.displayName="Form",(0,r.Z)(p,"defaultProps",{cancelLabel:(0,u.t)("Cancel"),submitLabel:(0,u.t)("Save Changes"),submitDisabled:!1,footerClass:"form-actions align-right",className:"form-stacked",requireChanges:!1,hideErrors:!1,resetOnError:!1,errorMessage:(0,u.t)("Unable to save your changes. Please ensure all fields are valid and try again.")});const m=(0,o.Z)("form",{target:"e1t9al3x0"})(""),g=p},"./app/components/deprecatedforms/formContext.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r=(0,s("../node_modules/react/index.js").createContext)({})},"./app/components/deprecatedforms/formField.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react/index.js"),i=s("../node_modules/classnames/index.js"),n=s.n(i),l=s("./app/components/deprecatedforms/formContext.tsx"),d=s("./app/components/questionTooltip.tsx"),c=s("./app/utils.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends a.PureComponent{constructor(e,t){super(e,t),(0,r.Z)(this,"onChange",(e=>{const t=e.target.value;this.setValue(t)})),(0,r.Z)(this,"setValue",(e=>{const t=(this.context||{}).form;this.setState({value:e},(()=>{var e,s;const r=this.coerceValue(this.state.value);null===(e=(s=this.props).onChange)||void 0===e||e.call(s,r),null==t||t.onFieldChange(this.props.name,r)}))})),this.state={error:null,value:this.getValue(e,t)}}componentDidMount(){}UNSAFE_componentWillReceiveProps(e,t){const s=this.getError(e,t);if(s!==this.state.error&&this.setState({error:s}),this.props.value!==e.value||(0,c.ri)(t.form)){const s=this.getValue(e,t);s!==this.state.value&&this.setValue(s)}}componentWillUnmount(){}getValue(e,t){const s=(t||this.context||{}).form;return e=e||this.props,(0,c.ri)(e.value)?e.value:s&&s.data.hasOwnProperty(e.name)?(0,c.ri)(s.data[e.name])?s.data[e.name]:"":(0,c.ri)(e.defaultValue)?e.defaultValue:""}getError(e,t){const s=(t||this.context||{}).form;return e=e||this.props,(0,c.ri)(e.error)?e.error:s&&s.errors[e.name]||null}getId(){return`id-${this.props.name}`}coerceValue(e){return e}getField(){throw new Error("Must be implemented by child.")}getClassName(){throw new Error("Must be implemented by child.")}getFinalClassNames(){const{className:e,required:t}=this.props,{error:s}=this.state;return n()(e,this.getClassName(),{"has-error":!!s,required:t})}renderDisabledReason(){const{disabled:e,disabledReason:t}=this.props;return e&&t?(0,u.tZ)(d.Z,{title:t,position:"top",size:"sm"}):null}render(){const{label:e,hideErrorMessage:t,help:s,style:r}=this.props,{error:o}=this.state,a=this.getFinalClassNames(),i=o&&!t;return(0,u.tZ)("div",{style:r,className:a,children:(0,u.BX)("div",{className:"controls",children:[e&&(0,u.tZ)("label",{htmlFor:this.getId(),className:"control-label",children:e}),this.getField(),this.renderDisabledReason(),(0,c.ri)(s)&&(0,u.tZ)("p",{className:"help-block",children:s}),i&&(0,u.tZ)(p,{children:o})]})})}}h.displayName="FormField",(0,r.Z)(h,"defaultProps",{hideErrorMessage:!1,disabled:!1,required:!1}),(0,r.Z)(h,"contextType",l.Z);const p=(0,o.Z)("p",{target:"e1wh8pos0"})("font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.red300),";")},"./app/components/deprecatedforms/selectField.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/components/forms/selectControl.tsx")),i=s("./app/utils.tsx"),n=s("./app/components/deprecatedforms/form.tsx"),l=s("./app/components/deprecatedforms/formField.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends l.Z{constructor(){super(...arguments),(0,r.Z)(this,"onChange",(e=>{this.setValue(e)}))}UNSAFE_componentWillReceiveProps(e,t){const s=this.getError(e,t);if(s!==this.state.error&&this.setState({error:s}),this.props.value!==e.value||(0,i.ri)(t.form)){const s=this.getValue(e,t),r=this.coerceValue(this.state.value);s!==r&&!!s!=!!r&&this.setValue(s)}}getValue(e,t){const s=(t||this.context||{}).form;e=e||this.props;const r=this.isMultiple(e)?[]:"";return(0,i.ri)(e.value)?e.value:s&&s.data.hasOwnProperty(e.name)?(0,i.ri)(s.data[e.name])?s.data[e.name]:r:(0,i.ri)(e.defaultValue)?e.defaultValue:r}coerceValue(e){return e?this.isMultiple()?e.map((e=>e.value)):e.hasOwnProperty("value")?e.value:e:""}isMultiple(e){return(e=e||this.props).multi||e.multiple}getClassName(){return""}getField(){const{options:e,clearable:t,creatable:s,choices:r,placeholder:o,disabled:a,name:i,isLoading:n}=this.props;return(0,d.tZ)(u,{creatable:s,id:this.getId(),choices:r,options:e,placeholder:o,disabled:a,value:this.state.value,onChange:this.onChange,clearable:t,multiple:this.isMultiple(),name:i,isLoading:n})}}(0,r.Z)(c,"defaultProps",{...l.Z.defaultProps,clearable:!0,multiple:!1});const u=(0,o.Z)(a.Z,{target:"e1lvk2vs0"})(n.G," &,.form-stacked &{margin-bottom:15px;.control-group &{margin-bottom:0;}}")},"./app/stores/organizationStore.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l}),s("../node_modules/core-js/modules/es.string.replace.js");var r=s("../node_modules/reflux/src/index.js"),o=s.n(r),a=s("./app/actions/organizationActions.tsx"),i=s("./app/constants/index.tsx");const n={init(){this.reset(),this.listenTo(a.Z.update,this.onUpdate),this.listenTo(a.Z.reset,this.reset),this.listenTo(a.Z.fetchOrgError,this.onFetchOrgError)},reset(){this.loading=!0,this.error=null,this.errorType=null,this.organization=null,this.dirty=!1,this.trigger(this.get())},onUpdate(e){let{replace:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!1,this.error=null,this.errorType=null,this.organization=t?e:{...this.organization,...e},this.dirty=!1,this.trigger(this.get())},onFetchOrgError(e){switch(this.organization=null,this.errorType=null,null==e?void 0:e.status){case 401:this.errorType=i.Yc.ORG_NO_ACCESS;break;case 404:this.errorType=i.Yc.ORG_NOT_FOUND}this.loading=!1,this.error=e,this.dirty=!1,this.trigger(this.get())},get(){return{organization:this.organization,error:this.error,loading:this.loading,errorType:this.errorType,dirty:this.dirty}},getState(){return this.get()}},l=o().createStore(n)},"./app/stores/projectsStatsStore.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/reflux/src/index.js"),o=s.n(r),a=s("./app/actions/projectActions.tsx");const i={itemsBySlug:{},init(){this.reset(),this.listenTo(a.Z.loadStatsForProjectSuccess,this.onStatsLoadSuccess),this.listenTo(a.Z.update,this.onUpdate),this.listenTo(a.Z.updateError,this.onUpdateError)},getInitialState(){return this.itemsBySlug},reset(){this.itemsBySlug={},this.updatingItems=new Map},onStatsLoadSuccess(e){e.forEach((e=>{this.itemsBySlug[e.slug]=e})),this.trigger(this.itemsBySlug)},onUpdate(e,t){const s=this.getBySlug(e);if(this.updatingItems.set(e,s),!s)return;const r={...s,...t};this.itemsBySlug={...this.itemsBySlug,[s.slug]:r},this.trigger(this.itemsBySlug)},onUpdateSuccess(e){this.updatingItems.delete(e.slug)},onUpdateError(e,t){const s=this.updatingItems.get(t);s&&(this.updatingItems.delete(t),this.itemsBySlug={...this.itemsBySlug,[s.slug]:{...s}},this.trigger(this.itemsBySlug))},getAll(){return this.itemsBySlug},getBySlug(e){return this.itemsBySlug[e]}},n=o().createStore(i)},"./app/stores/projectsStore.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/reflux/src/index.js"),o=s.n(r),a=s("./app/actions/projectActions.tsx"),i=s("./app/actions/teamActions.tsx");const n={itemsById:{},loading:!0,init(){this.reset(),this.listenTo(a.Z.addTeamSuccess,this.onAddTeam),this.listenTo(a.Z.changeSlug,this.onChangeSlug),this.listenTo(a.Z.createSuccess,this.onCreateSuccess),this.listenTo(a.Z.loadProjects,this.loadInitialData),this.listenTo(a.Z.loadStatsSuccess,this.onStatsLoadSuccess),this.listenTo(a.Z.removeTeamSuccess,this.onRemoveTeam),this.listenTo(a.Z.reset,this.reset),this.listenTo(a.Z.updateSuccess,this.onUpdateSuccess),this.listenTo(i.Z.removeTeamSuccess,this.onDeleteTeam)},reset(){this.itemsById={},this.loading=!0},loadInitialData(e){const t=e.map((e=>[e.id,e]));this.itemsById=Object.fromEntries(t),this.loading=!1,this.trigger(new Set(Object.keys(this.itemsById)))},onChangeSlug(e,t){const s=this.getBySlug(e);if(!s)return;const r={...s,slug:t};this.itemsById={...this.itemsById,[r.id]:r},this.trigger(new Set([s.id]))},onCreateSuccess(e){this.itemsById={...this.itemsById,[e.id]:e},this.trigger(new Set([e.id]))},onUpdateSuccess(e){const t=this.getById(e.id);if(!t)return;const s={...t,...e};this.itemsById={...this.itemsById,[t.id]:s},this.trigger(new Set([e.id]))},onStatsLoadSuccess(e){const t=Object.entries(e||{}).filter((e=>{let[t]=e;return t in this.itemsById}));t.forEach((e=>{let[t,s]=e;this.itemsById[t].stats=s}));const s=t.map((e=>{let[t]=e;return t}));this.trigger(new Set(s))},onDeleteTeam(e){const t=this.getAll().filter((t=>{let{teams:s}=t;return s.find((t=>{let{slug:s}=t;return s===e}))}));t.forEach((t=>this.removeTeamFromProject(e,t)));const s=t.map((e=>e.id));this.trigger(new Set(s))},onRemoveTeam(e,t){const s=this.getBySlug(t);s&&(this.removeTeamFromProject(e,s),this.trigger(new Set([s.id])))},onAddTeam(e,t){const s=this.getBySlug(t);if(!s)return;const r={...s,teams:[...s.teams,e]};this.itemsById={...this.itemsById,[s.id]:r},this.trigger(new Set([s.id]))},removeTeamFromProject(e,t){const s=t.teams.filter((t=>{let{slug:s}=t;return s!==e})),r={...t,teams:s};this.itemsById={...this.itemsById,[t.id]:r}},isLoading(){return this.loading},getAll(){return Object.values(this.itemsById).sort(((e,t)=>e.slug.localeCompare(t.slug)))},getById(e){return this.getAll().find((t=>t.id===e))},getBySlug(e){return this.getAll().find((t=>t.slug===e))},getState(){return{projects:this.getAll(),loading:this.loading}}},l=o().createStore(n)},"./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r=(0,s("./app/utils/analytics/makeAnalyticsFunction.tsx").Z)({"growth.show_mobile_prompt_banner":"Growth: Show Mobile Prompt Banner","growth.dismissed_mobile_prompt_banner":"Growth: Dismissed Mobile Prompt Banner","growth.opened_mobile_project_suggest_modal":"Growth: Open Mobile Project Suggest Modal","growth.clicked_mobile_prompt_setup_project":"Growth: Clicked Mobile Prompt Setup Project","growth.clicked_mobile_prompt_ask_teammate":"Growth: Clicked Mobile Prompt Ask Teammate","growth.submitted_mobile_prompt_ask_teammate":"Growth: Submitted Mobile Prompt Ask Teammate","growth.demo_click_get_started":"Growth: Demo Click Get Started","growth.demo_click_docs":"Growth: Demo Click Docs","growth.demo_click_request_demo":"Growth: Demo Click Request Demo","growth.onboarding_load_choose_platform":"Growth: Onboarding Load Choose Platform Page","growth.onboarding_set_up_your_project":"Growth: Onboarding Click Set Up Your Project","growth.select_platform":"Growth: Onboarding Choose Platform","growth.platformpicker_category":"Growth: Onboarding Platform Category","growth.platformpicker_search":"Growth: Onboarding Platform Search","growth.onboarding_start_onboarding":"Growth: Onboarding Start Onboarding","growth.onboarding_take_to_error":"Growth: Onboarding Take to Error","growth.onboarding_view_full_docs":"Growth: Onboarding View Full Docs","growth.onboarding_view_sample_event":"Growth: Onboarding View Sample Event","invite_request.approved":"Invite Request Approved","invite_request.denied":"Invite Request Denied","growth.demo_modal_clicked_signup":"Growth: Demo Modal Clicked Signup","growth.demo_modal_clicked_continue":"Growth: Demo Modal Clicked Continue","growth.clicked_enter_sandbox":"Growth: Clicked Enter Sandbox","growth.sample_transaction_docs_link_clicked":"Growth: Sample Transaction Docs Link Clicked","growth.sample_error_onboarding_link_clicked":"Growth: Sample Error Onboarding Link Clicked","growth.issue_open_in_discover_btn_clicked":"Growth: Open in Discover Button in Issue Details clicked","member_settings_page.loaded":"Member Settings Page Loaded","invite_modal.opened":"Invite Modal: Opened","invite_modal.closed":"Invite Modal: Closed","invite_modal.add_more":"Invite Modal: Add More","invite_modal.invites_sent":"Invite Modal: Invites Sent","invite_modal.requests_sent":"Invite Modal: Requests Sent","sdk_updates.seen":"SDK Updates: Seen","sdk_updates.snoozed":"SDK Updates: Snoozed","sdk_updates.clicked":"SDK Updates: Clicked","event_cause.viewed":null,"event_cause.docs_clicked":"Event Cause Docs Clicked","event_cause.snoozed":"Event Cause Snoozed","event_cause.dismissed":"Event Cause Dismissed","issue_error_banner.viewed":"Issue Error Banner Viewed","issues_tab.viewed":"Viewed Issues Tab","issue_search.failed":"Issue Search: Failed","issue.search_sidebar_clicked":"Issue Search Sidebar Clicked","inbox_tab.issue_clicked":"Clicked Issue from Inbox Tab","issues_stream.issue_clicked":"Clicked Issue from Issues Stream","issues_stream.issue_assigned":"Assigned Issue from Issues Stream","issue.shared_publicly":"Issue Shared Publicly",resolve_issue:"Resolve Issue","tag.clicked":"Tag: Clicked","performance_views.create_sample_transaction":"Growth: Performance Sample Transaction","performance_views.tour.start":"Performance Views: Tour Start","performance_views.tour.advance":"Performance Views: Tour Advance","performance_views.tour.close":"Performance Views: Tour Close","performance_views.landingv2.transactions.sort":"Performance Views: Landing Transactions Sorted","performance_views.overview.navigate.summary":"Performance Views: Overview view summary","performance_views.overview.cellaction":"Performance Views: Cell Action Clicked","performance_views.landingv3.widget.interaction":"Performance Views: Landing Widget Interaction","performance_views.landingv3.widget.switch":"Performance Views: Landing Widget Switched","performance_views.landingv3.batch_queries":"Performance Views: Landing Query Batching","performance_views.landingv3.display_change":"Performance Views: Switch Landing Tabs","performance_views.spans.change_op":"Performance Views: Change span operation name","performance_views.spans.change_sort":"Performance Views: Change span sort column","dashboards_views.add_widget_modal.opened":"Dashboards2: Add Widget Modal opened","dashboards_views.add_widget_modal.change":"Dashboards2: Field changed in Add Widget Modal","dashboards_views.edit_widget_modal.opened":"Dashboards2: Edit Widget Modal Opened","dashboards_views.query_selector.opened":"Dashboards2: Query Selector opened for Widget","dashboards_views.query_selector.selected":"Dashboards2: Query selected in Query Selector","dashboards_views.open_in_discover.opened":"Dashboards2: Widget Opened In Discover","dashboards_views.add_widget_modal.confirm":"Dashboards2: Add Widget to Dashboard modal form submitted","dashboards_views.add_widget_modal.save":"Dashboards2: Widget saved directly to Dashboard from Add Widget to Dashboard modal","dashboards_views.edit_widget_modal.confirm":"Dashboards2: Edit Dashboard Widget modal form submitted","dashboards_views.widget_library.add":"Dashboards2: Number of prebuilt widgets added","dashboards_views.widget_library.add_widget":"Dashboards2: Title of prebuilt widget added","dashboards_views.widget_library.switch_tab":"Dashboards2: Widget Library tab switched","dashboards_views.widget_library.opened":"Dashboards2: Add Widget Library opened","dashboards_manage.search":"Dashboards Manager: Search","dashboards_manage.change_sort":"Dashboards Manager: Sort By Changed","dashboards_manage.create.start":"Dashboards Manager: Dashboard Create Started","dashboards_manage.templates.toggle":"Dashboards Manager: Template Toggle Changed","dashboards_manage.templates.add":"Dashboards Manager: Template Added","dashboards_manage.templates.preview":"Dashboards Manager: Template Previewed","discover_views.add_to_dashboard.modal_open":"Discover2: Add to Dashboard modal opened","discover_views.add_to_dashboard.confirm":"Discover2: Add to Dashboard modal form submitted","team_insights.viewed":"Team Insights: Viewed","search.searched":"Search: Performed search","search.operator_autocompleted":"Search: Operator Autocompleted","organization_saved_search.selected":"Organization Saved Search: Selected saved search","settings_search.open":"settings_search Open","command_palette.open":"command_palette Open","sidebar_help.open":"sidebar_help Open","settings_search.select":"settings_search Select","command_palette.select":"command_palette Select","sidebar_help.select":"sidebar_help Select","settings_search.query":"settings_search Query","command_palette.query":"command_palette Query","sidebar_help.query":"sidebar_help Query","projectselector.direct_selection":"Project Selector: Direct Selection","projectselector.update":"Project Selector: Update","projectselector.clear":"Project Selector: Clear","projectselector.toggle":"Project Selector: Toggle","projectselector.multi_button_clicked":"Project Selector: Multi Button Clicked","notification_settings.index_page_viewed":"Notification Settings: Index Page Viewed","notification_settings.tuning_page_viewed":"Notification Settings: Tuning Page Viewed","notification_settings.updated_tuning_setting":"Notification Settings: Updated Tuning Setting"})},"./app/utils/parseLinkHeader.tsx":(e,t,s)=>{"use strict";function r(e){if(null===e||""===e)return{};const t=e.split(","),s={};return t.forEach((e=>{const t=/<([^>]+)>; rel="([^"]+)"(?:; results="([^"]+)")?(?:; cursor="([^"]+)")?/g.exec(e),r="true"===t[3]||"false"!==t[3]&&null;s[t[2]]={href:t[1],results:r,cursor:t[4]}})),s}s.d(t,{Z:()=>r})},"./app/utils/useApi.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s("../node_modules/react/index.js"),o=s("./app/api.tsx");const a=function(){let{persistInFlight:e,api:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=(0,r.useRef)();void 0===s.current&&void 0===t&&(s.current=new o.KU);const a=null!=t?t:s.current;function i(){!e&&a.clear()}return(0,r.useEffect)((()=>i),[]),a}},"./app/utils/useProjects.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var r=s("../node_modules/react/index.js"),o=s("../node_modules/lodash/uniqBy.js"),a=s.n(o),i=s("./app/actions/projectActions.tsx"),n=s("./app/stores/organizationStore.tsx"),l=s("./app/stores/projectsStore.tsx"),d=s("./app/stores/useLegacyStore.tsx"),c=s("./app/utils/parseLinkHeader.tsx"),u=s("./app/utils/useApi.tsx");async function h(e,t){let{slugs:s,search:r,limit:o,lastSearch:a,cursor:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={collapse:["latestDeploys"]};var l;void 0!==s&&s.length>0&&(n.query=s.map((e=>`slug:${e}`)).join(" ")),r&&(n.query=`${null!==(l=n.query)&&void 0!==l?l:""}${r}`.trim());const d=!a&&!r||a===r;d&&i&&(n.cursor=i),void 0!==o&&(n.per_page=o);let u=!1,h=null;const[p,,m]=await e.requestPromise(`/organizations/${t}/projects/`,{includeAllArgs:!0,query:n}),g=null==m?void 0:m.getResponseHeader("Link");if(g){var _,b,f;const e=(0,c.Z)(g);u=(null==e||null===(_=e.next)||void 0===_?void 0:_.results)||(null==e||null===(b=e.previous)||void 0===b?void 0:b.results),h=null==e||null===(f=e.next)||void 0===f?void 0:f.cursor}return{results:p,hasMore:u,nextCursor:h}}const p=function(){var e;let{limit:t,slugs:s,orgId:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const c=(0,u.Z)(),{organization:p}=(0,d.X)(n.Z),m=(0,d.X)(l.Z),g=null!=o?o:null==p?void 0:p.slug,_=new Set(m.projects.map((e=>e.slug))),b=null!==(e=null==s?void 0:s.filter((e=>!_.has(e))))&&void 0!==e?e:[],f=b.length>0,[v,w]=(0,r.useState)({initiallyLoaded:!m.loading&&!f,fetching:f,hasMore:null,lastSearch:null,nextCursor:null,fetchError:null}),S=(0,r.useRef)(null);async function j(){if(void 0!==g){w({...v,fetching:!0});try{const{results:e,hasMore:s,nextCursor:r}=await h(c,g,{slugs:b,limit:t}),o=a()([...m.projects,...e],(e=>{let{slug:t}=e;return t}));i.Z.loadProjects(o),w({...v,hasMore:s,fetching:!1,initiallyLoaded:!m.loading,nextCursor:r})}catch(e){console.error(e),w({...v,fetching:!1,initiallyLoaded:!m.loading,fetchError:e})}}else console.error("Cannot use useProjects({slugs}) without an organization in context")}async function y(e){const{lastSearch:s}=v,r=v.nextCursor;if(""!==e)if(void 0!==g){w({...v,fetching:!0});try{c.clear();const{results:o,hasMore:n,nextCursor:l}=await h(c,g,{search:e,limit:t,lastSearch:s,cursor:r}),d=a()([...m.projects,...o],(e=>{let{slug:t}=e;return t}));d.length>m.projects.length&&i.Z.loadProjects(d),w({...v,hasMore:n,fetching:!1,lastSearch:e,nextCursor:l})}catch(e){console.error(e),w({...v,fetching:!1,fetchError:e})}}else console.error("Cannot use useProjects.onSearch without an organization in context")}void 0!==s&&(null===S.current&&(S.current=new Set(s)),(s.length!==S.current.size||s.some((e=>{var t;return!(null!==(t=S.current)&&void 0!==t&&t.has(e))})))&&(S.current=new Set(s))),(0,r.useEffect)((()=>{f&&j()}),[S.current]),(0,r.useEffect)((()=>{const e=!m.loading;v.initiallyLoaded!==e&&(f||w({...v,initiallyLoaded:e}))}),[m.loading]);const{initiallyLoaded:x,fetching:Z,fetchError:C,hasMore:P}=v,I=s?m.projects.filter((e=>s.includes(e.slug))):m.projects,T=b.map((e=>({slug:e}))),k={projects:I,placeholders:T,fetching:Z||m.loading,initiallyLoaded:x,fetchError:C,hasMore:P,onSearch:y};return k}},"./app/utils/withApi.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s("./app/utils/getDisplayName.tsx"),o=s("./app/utils/useApi.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=s=>{let{api:r,...i}=s;const n=(0,o.Z)({api:r,...t});return(0,a.tZ)(e,{...i,api:n})};return s.displayName=`withApi(${(0,r.Z)(e)})`,s}},"./app/utils/withProjects.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i}),s("../node_modules/react/index.js");var r=s("./app/utils/getDisplayName.tsx"),o=s("./app/utils/useProjects.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=function(e){const t=t=>{const{projects:s,initiallyLoaded:r}=(0,o.Z)(),i=!r;return(0,a.tZ)(e,{...t,projects:s,loadingProjects:i})};return t.displayName=`withProjects(${(0,r.Z)(e)})`,t}},"./app/views/settings/project/projectOwnership/ownerInput.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>he});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-autosize-textarea/lib/index.js"),n=s("./app/actionCreators/indicator.tsx"),l=s("./app/api.tsx"),d=s("./app/components/button.tsx"),c=s("./app/locale.tsx"),u=s("./app/stores/memberListStore.tsx"),h=s("./app/stores/projectsStore.tsx"),p=s("./app/styles/input.tsx"),m=s("./app/utils.tsx"),g=s("./app/components/deprecatedforms/selectField.tsx"),_=s("./app/components/forms/controls/input.tsx"),b=s("./app/components/tag.tsx"),f=s("./app/components/textOverflow.tsx"),v=s("./app/icons/index.tsx"),w=s("./app/styles/space.tsx"),S=s("../node_modules/react-dom/profiling.js"),j=s("../node_modules/lodash/debounce.js"),y=s.n(j),x=s("../node_modules/lodash/isEqual.js"),Z=s.n(x),C=s("./app/actionCreators/projects.tsx"),P=s("./app/components/avatar/actorAvatar.tsx"),I=s("./app/components/forms/selectControl.tsx"),T=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const k=(0,a.forwardRef)((function(e,t){return(0,T.tZ)(I.Z,{forwardedRef:t,...e,multiple:!0})}));var E=s("./app/components/idBadge/index.tsx"),O=s("./app/components/tooltip.tsx"),A=s("./app/stores/teamStore.tsx"),D=s("./app/utils/withApi.tsx"),q=s("./app/utils/withProjects.tsx");function M(e){let{data:t,removeProps:s}=e;return(0,T.tZ)(R,{onClick:s.onClick,children:(0,T.tZ)(P.Z,{actor:t.actor,size:28})})}M.displayName="ValueComponent";const B=e=>`${e.email&&e.email.toLowerCase()} ${e.name&&e.name.toLowerCase()}`;var N={name:"833hqy",styles:"width:200px"};class V extends a.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{loading:!1,inputValue:""}),(0,r.Z)(this,"selectRef",a.createRef()),(0,r.Z)(this,"renderUserBadge",(e=>(0,T.tZ)(E.Z,{avatarSize:24,user:e,hideEmail:!0,useLink:!1}))),(0,r.Z)(this,"createMentionableUser",(e=>({value:(0,m.Zh)(e.id),label:this.renderUserBadge(e),searchKey:B(e),actor:{type:"user",id:e.id,name:e.name}}))),(0,r.Z)(this,"createUnmentionableUser",(e=>{let{user:t}=e;return{...this.createMentionableUser(t),disabled:!0,label:(0,T.tZ)(L,{children:(0,T.tZ)(O.Z,{position:"left",title:(0,c.t)("%s is not a member of project",t.name||t.email),children:this.renderUserBadge(t)})})}})),(0,r.Z)(this,"createMentionableTeam",(e=>({value:(0,m.dZ)(e.id),label:(0,T.tZ)(E.Z,{team:e}),searchKey:`#${e.slug}`,actor:{type:"team",id:e.id,name:e.slug}}))),(0,r.Z)(this,"createUnmentionableTeam",(e=>{const{organization:t}=this.props,s=t.access.includes("project:write");return{...this.createMentionableTeam(e),disabled:!0,label:(0,T.BX)($,{children:[(0,T.tZ)(L,{children:(0,T.tZ)(O.Z,{position:"left",title:(0,c.t)("%s is not a member of project",`#${e.slug}`),children:(0,T.tZ)(E.Z,{team:e})})}),(0,T.tZ)(O.Z,{title:s?(0,c.t)("Add %s to project",`#${e.slug}`):(0,c.t)("You do not have permission to add team to project."),children:(0,T.tZ)(z,{size:"zero",borderless:!0,disabled:!s,onClick:this.handleAddTeamToProject.bind(this,e),icon:(0,T.tZ)(v.N_,{isCircled:!0}),"aria-label":(0,c.t)("Add %s to project",`#${e.slug}`)})})]})}})),(0,r.Z)(this,"handleChange",(e=>{this.props.onChange(e)})),(0,r.Z)(this,"handleInputChange",(e=>{this.setState({inputValue:e}),this.props.onInputChange&&this.props.onInputChange(e)})),(0,r.Z)(this,"queryMembers",y()(((e,t)=>{const{api:s,organization:r}=this.props;return s?s.requestPromise(`/organizations/${r.slug}/members/`,{query:{query:e}}).then((e=>t(null,e)),(e=>t(e))):null}),250)),(0,r.Z)(this,"handleLoadOptions",(()=>{const e=this.getMentionableUsers(),t=this.getMentionableTeams(),s=this.getTeamsNotInProject(t),r=e.map((e=>{let{actor:t}=e;return t.id}));return new Promise(((e,t)=>{this.queryMembers(this.state.inputValue,((s,r)=>{s?t(s):e(r)}))})).then((e=>e?e.filter((e=>{let{user:t}=e;return t&&-1===r.indexOf(t.id)})).map(this.createUnmentionableUser):[])).then((r=>[...e,...t,...s,...r]))}))}componentDidUpdate(e){Z()(this.props.projects,e.projects)||this.closeSelectMenu()}getMentionableUsers(){return u.Z.getAll().map(this.createMentionableUser)}getMentionableTeams(){const{project:e}=this.props,t=h.Z.getBySlug(e.slug);return t?t.teams.map(this.createMentionableTeam):[]}getTeamsNotInProject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=A.Z.getAll()||[],s=e.map((e=>{let{actor:t}=e;return t.id}));return t.filter((e=>-1===s.indexOf(e.id))).map(this.createUnmentionableTeam)}closeSelectMenu(){if(this.selectRef.current){const e=S.findDOMNode(this.selectRef.current),t=null==e?void 0:e.querySelector(".Select-input input");t&&t.blur()}}async handleAddTeamToProject(e){const{api:t,organization:s,project:r,value:o}=this.props,a=[...o];this.props.onChange([...this.props.value,this.createMentionableTeam(e)]);try{await(0,C.Oe)(t,s.slug,r.slug,e)}catch(e){this.props.onChange(a),this.closeSelectMenu()}}render(){return(0,T.tZ)(k,{name:"owners",filterOption:(e,t)=>e.data.searchKey.indexOf(t)>-1,ref:this.selectRef,loadOptions:this.handleLoadOptions,defaultOptions:!0,async:!0,clearable:!0,disabled:this.props.disabled,cache:!1,placeholder:(0,c.t)("owners"),components:{MultiValue:M},onInputChange:this.handleInputChange,onChange:this.handleChange,value:this.props.value,css:N})}}V.displayName="SelectOwners";const U=(0,D.Z)((0,q.Z)(V)),$=(0,o.Z)("div",{target:"e1t7855i3"})({name:"1eoy87d",styles:"display:flex;justify-content:space-between"}),L=(0,o.Z)("div",{target:"e1t7855i2"})({name:"16ooxei",styles:"opacity:0.5;overflow:hidden"}),z=(0,o.Z)(d.ZP,{target:"e1t7855i1"})({name:"ozd7xs",styles:"flex-shrink:0"}),R=(0,o.Z)("a",{target:"e1t7855i0"})("margin-right:",(0,w.Z)(.5),";"),F={text:"",tagName:"",type:"path",owners:[],isValid:!1};function G(e){switch(e){case"path":return"src/example/*";case"url":return"https://example.com/settings/*";case"tag":return"tag-value";default:return""}}class W extends a.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",F),(0,r.Z)(this,"checkIsValid",(()=>{this.setState((e=>({isValid:!!e.text&&e.owners&&!!e.owners.length})))})),(0,r.Z)(this,"handleTypeChange",(e=>{this.setState({type:e}),this.checkIsValid()})),(0,r.Z)(this,"handleTagNameChangeValue",(e=>{this.setState({tagName:e.target.value},this.checkIsValid)})),(0,r.Z)(this,"handleChangeValue",(e=>{this.setState({text:e.target.value}),this.checkIsValid()})),(0,r.Z)(this,"handleChangeOwners",(e=>{this.setState({owners:e}),this.checkIsValid()})),(0,r.Z)(this,"handleAddRule",(()=>{const{type:e,text:t,tagName:s,owners:r,isValid:o}=this.state;if(!o)return void(0,n.Iw)("A rule needs a type, a value, and one or more issue owners.");const a=r.map((e=>{var t;return"team"===e.actor.type?`#${e.actor.name}`:null===(t=u.Z.getById(e.actor.id))||void 0===t?void 0:t.email})).join(" "),i=`${"tag"===e?`tags.${s}`:e}:${t.match(/\s/)?`"${t}"`:t} ${a}`;this.props.onAddRule(i),this.setState(F)})),(0,r.Z)(this,"handleSelectCandidate",((e,t)=>{this.setState({text:e,type:t}),this.checkIsValid()}))}render(){const{urls:e,paths:t,disabled:s,project:r,organization:o}=this.props,{type:i,text:n,tagName:l,owners:d,isValid:u}=this.state;return(0,T.BX)(a.Fragment,{children:[(t||e)&&(0,T.BX)(X,{children:[t&&t.map((e=>(0,T.BX)(J,{onClick:()=>this.handleSelectCandidate(e,"path"),children:[(0,T.tZ)(Q,{isCircled:!0}),(0,T.tZ)(K,{children:e}),(0,T.tZ)(b.Z,{children:(0,c.t)("Path")})]},e))),e&&e.map((e=>(0,T.BX)(J,{onClick:()=>this.handleSelectCandidate(e,"url"),children:[(0,T.tZ)(Q,{isCircled:!0}),(0,T.tZ)(K,{children:e}),(0,T.tZ)(b.Z,{children:(0,c.t)("URL")})]},e)))]}),(0,T.BX)(Y,{children:[(0,T.tZ)(H,{name:"select-type",value:i,onChange:this.handleTypeChange,options:[{value:"path",label:(0,c.t)("Path")},{value:"tag",label:(0,c.t)("Tag")},{value:"url",label:(0,c.t)("URL")}],style:{width:140},clearable:!1,disabled:s}),"tag"===i&&(0,T.tZ)(te,{value:l,onChange:this.handleTagNameChangeValue,disabled:s,placeholder:"tag-name"}),(0,T.tZ)(ee,{value:n,onChange:this.handleChangeValue,disabled:s,placeholder:G(i)}),(0,T.tZ)(se,{direction:"right"}),(0,T.tZ)(re,{children:(0,T.tZ)(U,{organization:o,project:r,value:d,onChange:this.handleChangeOwners,disabled:s})}),(0,T.tZ)(oe,{priority:"primary",disabled:!u,onClick:this.handleAddRule,icon:(0,T.tZ)(v.N_,{isCircled:!0}),size:"small","aria-label":(0,c.t)("Add rule")})]})]})}}W.displayName="RuleBuilder";const X=(0,o.Z)("div",{target:"e1oeciqa10"})({name:"pr10xp",styles:"margin-bottom:10px"}),K=(0,o.Z)(f.Z,{target:"e1oeciqa9"})({name:"82a6rk",styles:"flex:1"}),J=(0,o.Z)("div",{target:"e1oeciqa8"})("font-family:",(e=>e.theme.text.familyMono),";border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadius),";background-color:",(e=>e.theme.background),";padding:",(0,w.Z)(.25)," ",(0,w.Z)(.5),";margin-bottom:",(0,w.Z)(.5),";cursor:pointer;overflow:hidden;display:flex;align-items:center;"),Q=(0,o.Z)(v.N_,{target:"e1oeciqa7"})("color:",(e=>e.theme.border),";margin-right:5px;flex-shrink:0;"),Y=(0,o.Z)("div",{target:"e1oeciqa6"})("display:flex;height:40px;align-items:center;margin-bottom:",(0,w.Z)(2),";"),H=(0,o.Z)(g.Z,{target:"e1oeciqa5"})("margin-right:",(0,w.Z)(1.5),";width:50px;flex-shrink:0;"),ee=(0,o.Z)(_.Z,{target:"e1oeciqa4"})("padding:",(0,w.Z)(1),";line-height:19px;margin-right:",(0,w.Z)(.5),";"),te=(0,o.Z)(_.Z,{target:"e1oeciqa3"})("padding:",(0,w.Z)(1),";line-height:19px;margin-right:",(0,w.Z)(.5),";width:200px;"),se=(0,o.Z)(v.g6,{target:"e1oeciqa2"})("color:",(e=>e.theme.border),";flex-shrink:0;margin-right:5px;"),re=(0,o.Z)("div",{target:"e1oeciqa1"})("display:flex;align-items:center;margin-right:",(0,w.Z)(1),";"),oe=(0,o.Z)(d.ZP,{target:"e1oeciqa0"})("padding:",(0,w.Z)(.5),";"),ae=W;class ie extends a.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{hasChanges:!1,text:null,error:null}),(0,r.Z)(this,"handleUpdateOwnership",(()=>{const{organization:e,project:t,onSave:s}=this.props,{text:r}=this.state;this.setState({error:null});const o=(new l.KU).requestPromise(`/projects/${e.slug}/${t.slug}/ownership/`,{method:"PUT",data:{raw:r||""}});return o.then((()=>{(0,n.S9)((0,c.t)("Updated issue ownership rules")),this.setState({hasChanges:!1,text:r},(()=>s&&s(r)))})).catch((e=>{this.setState({error:e.responseJSON}),403===e.status?(0,n.Iw)((0,c.t)("You don't have permission to modify issue ownership rules for this project")):400===e.status&&e.responseJSON.raw&&e.responseJSON.raw[0].startsWith("Invalid rule owners:")?(0,n.Iw)((0,c.t)("Unable to save issue ownership rule changes: "+e.responseJSON.raw[0])):(0,n.Iw)((0,c.t)("Unable to save issue ownership rule changes"))})),o})),(0,r.Z)(this,"handleChange",(e=>{this.setState({hasChanges:!0,text:e.target.value})})),(0,r.Z)(this,"handleAddRule",(e=>{const{initialText:t}=this.props;this.setState((s=>{let{text:r}=s;return{text:(r||t)+"\n"+e}}),this.handleUpdateOwnership)}))}parseError(e){var t,s,r;const o=null==e||null===(t=e.raw)||void 0===t?void 0:t[0];return o?o.startsWith("Invalid rule owners:")?(0,T.tZ)(ue,{children:o}):(0,T.tZ)(le,{line:parseInt(null!==(s=null===(r=o.match(/line (\d*),/))||void 0===r?void 0:r[1])&&void 0!==s?s:"",10)-1}):null}mentionableUsers(){return u.Z.getAll().map((e=>({id:e.id,display:e.email,email:e.email})))}mentionableTeams(){const{project:e}=this.props,t=h.Z.getBySlug(e.slug);return t?t.teams.map((e=>({id:e.id,display:`#${e.slug}`,email:e.id}))):[]}render(){const{project:e,organization:t,disabled:s,urls:r,paths:o,initialText:i}=this.props,{hasChanges:n,text:l,error:u}=this.state;return(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(ae,{urls:r,paths:o,organization:t,project:e,onAddRule:this.handleAddRule.bind(this),disabled:s}),(0,T.BX)("div",{style:{position:"relative"},onKeyDown:e=>{e.metaKey&&"Enter"===e.key&&this.handleUpdateOwnership()},children:[(0,T.tZ)(ce,{placeholder:"#example usage\npath:src/example/pipeline/* person@sentry.io #infra\nurl:http://example.com/settings/* #product\ntags.sku_class:enterprise #enterprise",onChange:this.handleChange,disabled:s,value:(0,m.ri)(l)?l:i,spellCheck:"false",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"}),(0,T.BX)(ne,{children:[(0,T.tZ)("div",{children:this.parseError(u)}),(0,T.tZ)(de,{children:(0,T.tZ)(d.ZP,{size:"small",priority:"primary",onClick:this.handleUpdateOwnership,disabled:s||!n,children:(0,c.t)("Save Changes")})})]})]})]})}}ie.displayName="OwnerInput",(0,r.Z)(ie,"defaultProps",{urls:[],paths:[],disabled:!1});const ne=(0,o.Z)("div",{target:"elg57ml4"})({name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}),le=(0,o.Z)("div",{target:"elg57ml3"})(p.T,";width:100%;height:",24,"px;background-color:red;opacity:0.1;pointer-events:none;position:absolute;top:",(e=>{let{line:t}=e;return 4+24*t}),"px;"),de=(0,o.Z)("div",{target:"elg57ml2"})({name:"1cw129c",styles:"text-align:end;padding-top:10px"}),ce=(0,o.Z)(i.Z,{target:"elg57ml1"})((e=>(0,p.T)(e)),";min-height:140px;overflow:auto;outline:0;width:100%;resize:none;margin:0;font-family:",(e=>e.theme.text.familyMono),";word-break:break-all;white-space:pre-wrap;padding-top:",4,"px;line-height:",24,"px;"),ue=(0,o.Z)("div",{target:"elg57ml0"})("color:",(e=>e.theme.error),";font-weight:bold;margin-top:12px;"),he=ie},"../node_modules/lodash/_arrayIncludes.js":(e,t,s)=>{var r=s("../node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},"../node_modules/lodash/_arrayIncludesWith.js":e=>{e.exports=function(e,t,s){for(var r=-1,o=null==e?0:e.length;++r<o;)if(s(t,e[r]))return!0;return!1}},"../node_modules/lodash/_baseFindIndex.js":e=>{e.exports=function(e,t,s,r){for(var o=e.length,a=s+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},"../node_modules/lodash/_baseIndexOf.js":(e,t,s)=>{var r=s("../node_modules/lodash/_baseFindIndex.js"),o=s("../node_modules/lodash/_baseIsNaN.js"),a=s("../node_modules/lodash/_strictIndexOf.js");e.exports=function(e,t,s){return t==t?a(e,t,s):r(e,o,s)}},"../node_modules/lodash/_baseIsNaN.js":e=>{e.exports=function(e){return e!=e}},"../node_modules/lodash/_baseUniq.js":(e,t,s)=>{var r=s("../node_modules/lodash/_SetCache.js"),o=s("../node_modules/lodash/_arrayIncludes.js"),a=s("../node_modules/lodash/_arrayIncludesWith.js"),i=s("../node_modules/lodash/_cacheHas.js"),n=s("../node_modules/lodash/_createSet.js"),l=s("../node_modules/lodash/_setToArray.js");e.exports=function(e,t,s){var d=-1,c=o,u=e.length,h=!0,p=[],m=p;if(s)h=!1,c=a;else if(u>=200){var g=t?null:n(e);if(g)return l(g);h=!1,c=i,m=new r}else m=t?[]:p;e:for(;++d<u;){var _=e[d],b=t?t(_):_;if(_=s||0!==_?_:0,h&&b==b){for(var f=m.length;f--;)if(m[f]===b)continue e;t&&m.push(b),p.push(_)}else c(m,b,s)||(m!==p&&m.push(b),p.push(_))}return p}},"../node_modules/lodash/_createSet.js":(e,t,s)=>{var r=s("../node_modules/lodash/_Set.js"),o=s("../node_modules/lodash/noop.js"),a=s("../node_modules/lodash/_setToArray.js"),i=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=i},"../node_modules/lodash/_isIterateeCall.js":(e,t,s)=>{var r=s("../node_modules/lodash/eq.js"),o=s("../node_modules/lodash/isArrayLike.js"),a=s("../node_modules/lodash/_isIndex.js"),i=s("../node_modules/lodash/isObject.js");e.exports=function(e,t,s){if(!i(s))return!1;var n=typeof t;return!!("number"==n?o(s)&&a(t,s.length):"string"==n&&t in s)&&r(s[t],e)}},"../node_modules/lodash/_strictIndexOf.js":e=>{e.exports=function(e,t,s){for(var r=s-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},"../node_modules/lodash/chunk.js":(e,t,s)=>{var r=s("../node_modules/lodash/_baseSlice.js"),o=s("../node_modules/lodash/_isIterateeCall.js"),a=s("../node_modules/lodash/toInteger.js"),i=Math.ceil,n=Math.max;e.exports=function(e,t,s){t=(s?o(e,t,s):void 0===t)?1:n(a(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var d=0,c=0,u=Array(i(l/t));d<l;)u[c++]=r(e,d,d+=t);return u}},"../node_modules/lodash/noop.js":e=>{e.exports=function(){}},"../node_modules/lodash/uniqBy.js":(e,t,s)=>{var r=s("../node_modules/lodash/_baseIteratee.js"),o=s("../node_modules/lodash/_baseUniq.js");e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}}}]);
//# sourceMappingURL=../sourcemaps/app_utils_analytics_trackAdvancedAnalyticsEvent_tsx-app_views_settings_project_projectOwnersh-ba78c8.ef1f263de0d20fceae180599e1a1ad5d.js.map