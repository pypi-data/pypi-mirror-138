"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_transactionSummary_pageLayout_tsx"],{"./app/views/performance/breadcrumb.tsx":(e,t,n)=>{n.d(t,{Z:()=>y});var a=n("../node_modules/react/index.js"),r=n("./app/components/breadcrumbs.tsx"),s=n("./app/locale.tsx"),i=n("./app/utils/queryString.tsx"),o=n("./app/views/performance/transactionSummary/tabs.tsx"),c=n("./app/views/performance/transactionSummary/transactionEvents/utils.tsx"),l=n("./app/views/performance/transactionSummary/transactionSpans/utils.tsx"),p=n("./app/views/performance/transactionSummary/transactionTags/utils.tsx"),u=n("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),d=n("./app/views/performance/transactionSummary/utils.tsx"),m=n("./app/views/performance/vitalDetail/utils.tsx"),h=n("./app/views/performance/utils.tsx"),g=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class v extends a.Component{getCrumbs(){const e=[],{organization:t,location:n,transaction:a,vitalName:r,spanSlug:g,eventSlug:v,traceSlug:y,tab:f}=this.props,x={pathname:(0,h.de)(t),query:{...n.query,transaction:void 0}};if(e.push({to:x,label:(0,s.t)("Performance"),preservePageFilters:!0}),r){const a=(0,m.i4)({orgSlug:t.slug,vitalName:"fcp",projectID:(0,i.ro)(n.query.project),query:n.query});e.push({to:a,label:(0,s.t)("Vital Detail"),preservePageFilters:!0})}else if(a){const r={orgSlug:t.slug,transaction:a.name,projectID:a.project,query:n.query};switch(f){case o.Z.Tags:{const t=(0,p.vG)(r);e.push({to:t,label:(0,s.t)("Tags"),preservePageFilters:!0});break}case o.Z.Events:{const t=(0,c.xr)(r);e.push({to:t,label:(0,s.t)("All Events"),preservePageFilters:!0});break}case o.Z.WebVitals:{const t=(0,u.Pl)(r);e.push({to:t,label:(0,s.t)("Web Vitals"),preservePageFilters:!0});break}case o.Z.Spans:{const t=(0,l.hN)(r);e.push({to:t,label:(0,s.t)("Spans"),preservePageFilters:!0});break}case o.Z.TransactionSummary:default:{const t=(0,d.e1)(r);e.push({to:t,label:(0,s.t)("Transaction Summary"),preservePageFilters:!0})}}}return a&&g?e.push({to:"",label:(0,s.t)("Span Details")}):a&&v?e.push({to:"",label:(0,s.t)("Event Details")}):y&&e.push({to:"",label:(0,s.t)("Trace View")}),e}render(){return(0,g.tZ)(r.Z,{crumbs:this.getCrumbs()})}}v.displayName="Breadcrumb";const y=v},"./app/views/performance/transactionSummary/pageLayout.tsx":(e,t,n)=>{n.d(t,{O:()=>ge,Z:()=>xe});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),s=n("../node_modules/react-router/es/index.js"),i=n("./app/components/acl/feature.tsx"),o=n("./app/components/alert.tsx"),c=n("./app/components/globalSdkUpdateAlert.tsx"),l=n("./app/components/layouts/thirds.tsx"),p=n("./app/components/noProjectMessage.tsx"),u=n("./app/components/organizations/pageFilters/container.tsx"),d=n("./app/components/sentryDocumentTitle.tsx"),m=n("./app/icons/index.tsx"),h=n("./app/locale.tsx"),g=n("./app/styles/organization.tsx"),v=n("./app/utils.tsx"),y=n("./app/utils/performance/contexts/performanceEventViewContext.tsx"),f=n("./app/utils/queryString.tsx"),x=n("./app/views/performance/metricsSwitch.tsx"),S=n("./app/views/performance/utils.tsx"),b=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),T=n("./app/components/assistant/guideAnchor.tsx"),Z=n("./app/components/buttonBar.tsx"),_=n("./app/components/createAlertButton.tsx"),w=n("./app/components/featureBadge.tsx"),E=n("./app/components/links/listLink.tsx"),j=n("./app/components/navTabs.tsx"),C=n("./app/utils/analytics.tsx"),P=n("../node_modules/lodash/omit.js"),k=n.n(P),q=n("../node_modules/lodash/pick.js"),V=n.n(q),I=n("./app/utils/discover/genericDiscoverQuery.tsx"),A=n("./app/utils/tokenizeSearch.tsx"),N=n("./app/utils/withApi.tsx"),M=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function z(e){const{eventView:t,location:n,transaction:a,type:r}=e,s={transaction:`"${(0,v.d9)((0,A.Bn)(a))}"`,type:r},i=V()(t.getEventsAPIPayload(n),["project","environment"]);return Object.assign(s,i)}function B(e){return(0,M.tZ)(I.ZP,{route:"events-has-measurements",getRequestPayload:z,...k()(e,"children"),children:t=>{var n;let{tableData:a,...r}=t;return e.children({hasMeasurements:null!==(n=null==a?void 0:a.measurements)&&void 0!==n?n:null,...r})}})}B.displayName="HasMeasurementsQuery";const D=(0,N.Z)(B);var L=n("./app/views/performance/breadcrumb.tsx"),U=n("./app/views/performance/landing/utils.tsx"),X=n("./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx"),K=n("./app/views/performance/transactionSummary/transactionEvents/utils.tsx"),O=n("./app/views/performance/transactionSummary/transactionSpans/utils.tsx"),W=n("./app/views/performance/transactionSummary/transactionTags/utils.tsx"),F=n("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),G=n("./app/views/performance/transactionSummary/tabs.tsx"),Q=n("./app/components/button.tsx"),$=n("./app/components/performance/teamKeyTransaction.tsx"),R=n("./app/components/performance/teamKeyTransactionsManager.tsx"),Y=n("./app/components/tooltip.tsx"),H=n("./app/utils/useTeams.tsx"),J=n("./app/utils/withProjects.tsx");class ee extends r.Component{render(){var e;const{isOpen:t,keyedTeams:n,...a}=this.props,r=null!==(e=null==n?void 0:n.length)&&void 0!==e?e:0,s=(0,M.tZ)(Q.ZP,{...a,icon:r?(0,M.tZ)(m.GK,{color:"yellow300",isSolid:!0}):(0,M.tZ)(m.GK,{}),children:r?(0,h.tn)("Starred for Team","Starred for Teams",r):(0,h.t)("Star for Team")});if(!t&&null!=n&&n.length){const e=n.map((e=>{let{slug:t}=e;return t})).join(", ");return(0,M.tZ)(Y.Z,{title:e,children:s})}return s}}function te(e){let{counts:t,getKeyedTeams:n,project:a,transactionName:r,...s}=e;const i=n(a.id,r);return(0,M.tZ)($.Z,{counts:t,keyedTeams:i,title:ee,project:a,transactionName:r,...s})}function ne(e){let{eventView:t,organization:n,projects:a,...r}=e;const{teams:s,initiallyLoaded:i}=(0,H.Z)({provideUserTeams:!0});if(1!==t.project.length)return(0,M.tZ)(ee,{isOpen:!1,disabled:!0,keyedTeams:null});const o=String(t.project[0]),c=a.find((e=>e.id===o));return(0,v.ri)(c)?(0,M.tZ)(R.z,{organization:n,teams:s,selectedTeams:["myteams"],selectedProjects:[String(o)],children:(0,M.tZ)(R.$,{children:e=>{let{isLoading:t,...a}=e;return(0,M.tZ)(te,{organization:n,project:c,isLoading:t||!i,...r,...a})}})}):(0,M.tZ)(ee,{isOpen:!1,disabled:!0,keyedTeams:null})}ee.displayName="TitleButton",te.displayName="TeamKeyTransactionButton",ne.displayName="TeamKeyTransactionButtonWrapper";const ae=(0,J.Z)(ne);var re=n("./app/actionCreators/indicator.tsx"),se=n("./app/actionCreators/modal.tsx"),ie=n("./app/views/performance/transactionSummary/transactionThresholdModal.tsx");class oe extends r.Component{constructor(){super(...arguments),(0,b.Z)(this,"state",{transactionThreshold:void 0,transactionThresholdMetric:void 0,loadingThreshold:!1}),(0,b.Z)(this,"fetchTransactionThreshold",(()=>{const{api:e,organization:t,transactionName:n}=this.props,a=this.getProject();if(!(0,v.ri)(a))return;const r=`/organizations/${t.slug}/project-transaction-threshold-override/`;this.setState({loadingThreshold:!0}),e.requestPromise(r,{method:"GET",includeAllArgs:!0,query:{project:a.id,transaction:n}}).then((e=>{let[t]=e;this.setState({loadingThreshold:!1,transactionThreshold:t.threshold,transactionThresholdMetric:t.metric})})).catch((()=>{const e=`/projects/${t.slug}/${a.slug}/transaction-threshold/configure/`;this.props.api.requestPromise(e,{method:"GET",includeAllArgs:!0,query:{project:a.id}}).then((e=>{let[t]=e;this.setState({loadingThreshold:!1,transactionThreshold:t.threshold,transactionThresholdMetric:t.metric})})).catch((e=>{var t,n;this.setState({loadingThreshold:!1});const a=null!==(t=null===(n=e.responseJSON)||void 0===n?void 0:n.threshold)&&void 0!==t?t:null;(0,re.Iw)(a)}))}))}))}componentDidMount(){this.fetchTransactionThreshold()}getProject(){const{projects:e,eventView:t}=this.props;if(!(0,v.ri)(t))return;const n=String(t.project[0]);return e.find((e=>e.id===n))}onChangeThreshold(e,t){const{onChangeThreshold:n}=this.props;this.setState({transactionThreshold:e,transactionThresholdMetric:t}),(0,v.ri)(n)&&n(e,t)}openModal(){const{organization:e,transactionName:t,eventView:n}=this.props,{transactionThreshold:a,transactionThresholdMetric:r}=this.state;(0,se.openModal)((s=>(0,M.tZ)(ie.ZP,{...s,organization:e,transactionName:t,eventView:n,transactionThreshold:a,transactionThresholdMetric:r,onApply:(e,t)=>this.onChangeThreshold(e,t)})),{modalCss:ie.fY,backdrop:"static"})}render(){const{loadingThreshold:e}=this.state;return(0,M.tZ)(Q.ZP,{onClick:()=>this.openModal(),icon:(0,M.tZ)(m.iC,{}),disabled:e,"aria-label":(0,h.t)("Settings"),"data-test-id":"set-transaction-threshold"})}}oe.displayName="TransactionThresholdButton";const ce=(0,N.Z)((0,J.Z)(oe));var le=n("./app/views/performance/transactionSummary/utils.tsx");const pe={[G.Z.WebVitals]:{eventKey:"performance_views.vitals.vitals_tab_clicked",eventName:"Performance Views: Vitals tab clicked"},[G.Z.Tags]:{eventKey:"performance_views.tags.tags_tab_clicked",eventName:"Performance Views: Tags tab clicked"},[G.Z.Events]:{eventKey:"performance_views.events.events_tab_clicked",eventName:"Performance Views: Events tab clicked"},[G.Z.Spans]:{eventKey:"performance_views.spans.spans_tab_clicked",eventName:"Performance Views: Spans tab clicked"},[G.Z.Anomalies]:{eventKey:"performance_views.anomalies.anomalies_tab_clicked",eventName:"Performance Views: Anomalies tab clicked"}};class ue extends r.Component{constructor(){super(...arguments),(0,b.Z)(this,"trackTabClick",(e=>()=>{const t=pe[e];t&&(0,C.ec)({...t,organization_id:this.props.organization.id})})),(0,b.Z)(this,"handleIncompatibleQuery",((e,t)=>{var n,a;this.trackAlertClick(t),null===(n=(a=this.props).handleIncompatibleQuery)||void 0===n||n.call(a,e,t)})),(0,b.Z)(this,"handleCreateAlertSuccess",(()=>{this.trackAlertClick()})),(0,b.Z)(this,"handleSwitchMetrics",(()=>{const{location:e}=this.props;s.browserHistory.push({pathname:e.pathname,query:{...e.query,query:void 0}})}))}trackAlertClick(e){const{organization:t}=this.props;(0,C.ec)({eventKey:"performance_views.summary.create_alert_clicked",eventName:"Performance Views: Create alert clicked",organization_id:t.id,status:e?"error":"success",errors:e,url:window.location.href})}renderCreateAlertButton(){const{eventView:e,organization:t,projects:n}=this.props;return(0,M.tZ)(_.K,{eventView:e,organization:t,projects:n,onIncompatibleQuery:this.handleIncompatibleQuery,onSuccess:this.handleCreateAlertSuccess,referrer:"performance"})}renderKeyTransactionButton(){const{eventView:e,organization:t,transactionName:n}=this.props;return(0,M.tZ)(ae,{transactionName:n,eventView:e,organization:t})}renderSettingsButton(){const{organization:e,transactionName:t,eventView:n,onChangeThreshold:a}=this.props;return(0,M.tZ)(T.n,{target:"project_transaction_threshold_override",position:"bottom",children:(0,M.tZ)(ce,{organization:e,transactionName:t,eventView:n,onChangeThreshold:a})})}renderWebVitalsTab(){const{organization:e,eventView:t,location:n,projects:a,transactionName:r,currentTab:s,hasWebVitals:i}=this.props,o=(0,F.Pl)({orgSlug:e.slug,transaction:r,projectID:(0,f.ro)(n.query.project),query:n.query}),c=(0,M.tZ)(E.Z,{"data-test-id":"web-vitals-tab",to:o,isActive:()=>s===G.Z.WebVitals,onClick:this.trackTabClick(G.Z.WebVitals),children:(0,h.t)("Web Vitals")});switch(i){case"maybe":return(0,U.Q_)(n,a,t).field===U.BY.FRONTEND_PAGELOAD?c:(0,M.tZ)(D,{location:n,orgSlug:e.slug,eventView:t,transaction:r,type:"web",children:e=>{let{hasMeasurements:t}=e;return t?c:null}});case"yes":return c;case"no":default:return null}}render(){const{organization:e,location:t,projectId:n,transactionName:a,currentTab:s}=this.props,o={orgSlug:e.slug,transaction:a,projectID:n,query:t.query},c=(0,le.e1)(o),p=(0,W.vG)(o),u=(0,K.xr)(o),d=(0,O.hN)(o),m=(0,X.az)(o);return(0,M.BX)(l.h4,{children:[(0,M.BX)(l.oB,{children:[(0,M.tZ)(L.Z,{organization:e,location:t,transaction:{project:n,name:a},tab:s}),(0,M.tZ)(l.Dx,{children:a})]}),(0,M.tZ)(l.kP,{children:(0,M.BX)(Z.ZP,{gap:1,children:[(0,M.tZ)(x.BR,{onSwitch:this.handleSwitchMetrics}),(0,M.tZ)(i.Z,{organization:e,features:["incidents"],children:e=>{let{hasFeature:t}=e;return t&&this.renderCreateAlertButton()}}),this.renderKeyTransactionButton(),this.renderSettingsButton()]})}),(0,M.tZ)(r.Fragment,{children:(0,M.BX)(de,{children:[(0,M.tZ)(E.Z,{to:c,isActive:()=>s===G.Z.TransactionSummary,children:(0,h.t)("Overview")}),this.renderWebVitalsTab(),(0,M.tZ)(E.Z,{to:p,isActive:()=>s===G.Z.Tags,onClick:this.trackTabClick(G.Z.Tags),children:(0,h.t)("Tags")}),(0,M.tZ)(E.Z,{to:u,isActive:()=>s===G.Z.Events,onClick:this.trackTabClick(G.Z.Events),children:(0,h.t)("All Events")}),(0,M.tZ)(i.Z,{organization:e,features:["organizations:performance-suspect-spans-view"],children:(0,M.BX)(E.Z,{"data-test-id":"spans-tab",to:d,isActive:()=>s===G.Z.Spans,onClick:this.trackTabClick(G.Z.Spans),children:[(0,h.t)("Spans"),(0,M.tZ)(w.Z,{type:"new",noTooltip:!0})]})}),(0,M.tZ)(i.Z,{organization:e,features:["organizations:performance-anomaly-detection-ui"],children:(0,M.BX)(E.Z,{"data-test-id":"anomalies-tab",to:m,isActive:()=>s===G.Z.Anomalies,onClick:this.trackTabClick(G.Z.Anomalies),children:[(0,h.t)("Anomalies"),(0,M.tZ)(w.Z,{type:"alpha",noTooltip:!0})]})})]})})]})}}ue.displayName="TransactionHeader";const de=(0,a.Z)(j.Z,{target:"ega7at50"})({name:"13jhhqe",styles:"margin-bottom:0;width:100%"}),me=ue;function he(e){const{location:t,organization:n,projects:a,tab:o,getDocumentTitle:c,generateEventView:g,childComponent:b,relativeDateOptions:T,maxPickableDays:Z,features:_=[]}=e,w=(0,f.ro)(t.query.project),E=(0,S.JY)(t);if(!(0,v.ri)(w)||!(0,v.ri)(E))return s.browserHistory.replace({pathname:`/organizations/${n.slug}/performance/`,query:{...t.query}}),null;const j=a.find((e=>e.id===w)),[C,P]=(0,r.useState)(),[k,q]=(0,r.useState)(null),V=(e,t)=>{const n=e((()=>q(null)));q(n)},[I,A]=(0,r.useState)(),[N,z]=(0,r.useState)();return(0,M.tZ)(d.Z,{title:c(E),orgSlug:n.slug,projectSlug:null==j?void 0:j.slug,children:(0,M.tZ)(i.Z,{features:["performance-view",..._],organization:n,renderDisabled:ge,children:(0,M.tZ)(x.j9.Consumer,{children:e=>{let{isMetricsData:r}=e;const s=g({location:t,transactionName:E,isMetricsData:r});return(0,M.tZ)(y.bq,{value:{eventView:s},children:(0,M.tZ)(u.Z,{lockedMessageSubject:(0,h.t)("transaction"),shouldForceProject:(0,v.ri)(j),forceProject:j,specificProjectSlugs:(0,v.ri)(j)?[j.slug]:[],disableMultipleProjectSelection:!0,showProjectSettingsLink:!0,relativeDateOptions:T,maxPickableDays:Z,children:(0,M.tZ)(ve,{children:(0,M.BX)(p.Z,{organization:n,children:[(0,M.tZ)(me,{eventView:s,location:t,organization:n,projects:a,projectId:w,transactionName:E,currentTab:o,hasWebVitals:o===G.Z.WebVitals?"yes":"maybe",handleIncompatibleQuery:V,onChangeThreshold:(e,t)=>{A(e),z(t)}}),(0,M.BX)(l.uT,{children:[(0,M.tZ)(ye,{}),(0,v.ri)(C)&&(0,M.tZ)(fe,{type:"error",icon:(0,M.tZ)(m.Gy,{size:"md"}),children:C}),k&&(0,M.tZ)(l.or,{fullWidth:!0,children:k}),(0,M.tZ)(b,{location:t,organization:n,projects:a,eventView:s,projectId:w,transactionName:E,setError:P,transactionThreshold:I,transactionThresholdMetric:N,isMetricsData:r})]})]})})})})}})})})}function ge(){return(0,M.tZ)(o.Z,{type:"warning",children:(0,h.t)("You don't have access to this feature")})}he.displayName="PageLayout",ge.displayName="NoAccess";const ve=(0,a.Z)(g.JH,{target:"e1ehad6a2"})({name:"1hcx8jb",styles:"padding:0"}),ye=(0,a.Z)(c.Z,{target:"e1ehad6a1"})("@media (min-width: ",(e=>e.theme.breakpoints[1]),"){margin-bottom:0;}");ye.defaultProps={Wrapper:e=>(0,M.tZ)(l.or,{fullWidth:!0,...e})};const fe=(0,a.Z)(o.Z,{target:"e1ehad6a0"})({name:"3hfw1i",styles:"grid-column:1/3;margin:0"}),xe=he},"./app/views/performance/transactionSummary/tabs.tsx":(e,t,n)=>{var a;n.d(t,{Z:()=>r}),function(e){e[e.TransactionSummary=0]="TransactionSummary",e[e.WebVitals=1]="WebVitals",e[e.Tags=2]="Tags",e[e.Events=3]="Events",e[e.Spans=4]="Spans",e[e.Anomalies=5]="Anomalies"}(a||(a={}));const r=a},"./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx":(e,t,n)=>{n.d(t,{az:()=>i,h2:()=>o});var a=n("./app/utils/discover/eventView.tsx"),r=n("./app/utils/queryString.tsx"),s=n("./app/utils/tokenizeSearch.tsx");function i(e){let{orgSlug:t,transaction:n,projectID:a,query:r}=e;return{pathname:function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/summary/anomalies/`}({orgSlug:t}),query:{transaction:n,project:a,environment:r.environment,statsPeriod:r.statsPeriod,start:r.start,end:r.end,query:r.query}}}function o(e){let{location:t,transactionName:n}=e;const i=(0,r.ro)(t.query.query,""),o=new s.MY(i);return o.setFilterValues("transaction",[n]),a.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:n,fields:["tpm()"],query:o.formatString(),projects:[]},t)}},"./app/views/performance/transactionSummary/transactionSpans/types.tsx":(e,t,n)=>{let a,r;n.d(t,{p:()=>a,g:()=>r}),function(e){e.P50_EXCLUSIVE_TIME="p50ExclusiveTime",e.P75_EXCLUSIVE_TIME="p75ExclusiveTime",e.P95_EXCLUSIVE_TIME="p95ExclusiveTime",e.P99_EXCLUSIVE_TIME="p99ExclusiveTime"}(a||(a={})),function(e){e.COUNT="count",e.AVG_OCCURRENCE="avgOccurrence",e.SUM_EXCLUSIVE_TIME="sumExclusiveTime"}(r||(r={}))},"./app/views/performance/transactionSummary/transactionSpans/utils.tsx":(e,t,n)=>{n.d(t,{hN:()=>m,bc:()=>h,CS:()=>g,E5:()=>v,TK:()=>x,KK:()=>S,W6:()=>b,xz:()=>T,zW:()=>Z,uQ:()=>_}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js");var a=n("../node_modules/lodash/pick.js"),r=n.n(a),s=n("./app/constants/index.tsx"),i=n("./app/locale.tsx"),o=n("./app/utils.tsx"),c=n("./app/utils/discover/eventView.tsx"),l=n("./app/utils/discover/fields.tsx"),p=n("./app/utils/queryString.tsx"),u=n("./app/utils/tokenizeSearch.tsx"),d=n("./app/views/performance/transactionSummary/transactionSpans/types.tsx");function m(e){let{orgSlug:t,transaction:n,projectID:a,query:r}=e;return{pathname:function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/summary/spans/`}({orgSlug:t}),query:{transaction:n,project:a,environment:r.environment,statsPeriod:r.statsPeriod,start:r.start,end:r.end,query:r.query}}}const h=30,g=r()(s.wh,["1h","24h","7d","14d","30d"]),v=[{prefix:(0,i.t)("Sort By"),label:(0,i.t)("Total Exclusive Time"),field:d.g.SUM_EXCLUSIVE_TIME},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("Average Count"),field:d.g.AVG_OCCURRENCE},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("Total Count"),field:d.g.COUNT},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("p50 Exclusive Time"),field:d.p.P50_EXCLUSIVE_TIME},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("p75 Exclusive Time"),field:d.p.P75_EXCLUSIVE_TIME},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("p95 Exclusive Time"),field:d.p.P95_EXCLUSIVE_TIME},{prefix:(0,i.t)("Sort By"),label:(0,i.t)("p99 Exclusive Time"),field:d.p.P99_EXCLUSIVE_TIME}],y=d.g.SUM_EXCLUSIVE_TIME;function f(e){return v.find((t=>t.field===e))||v.find((e=>e.field===y))}function x(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sort";const r=null!==(t=(0,p.ro)(null==e||null===(n=e.query)||void 0===n?void 0:n[a]))&&void 0!==t?t:y;return f(r)}function S(e){return f(e.sorts.length?e.sorts[0].field:y)}function b(e){if(!(0,o.ri)(e))return;const t=e.lastIndexOf(":");return t<0?void 0:{op:e.slice(0,t),group:e.slice(t+1)}}function T(e){let{location:t,transactionName:n,isMetricsData:a}=e;const r=(0,p.ro)(t.query.query,""),s=new u.MY(r);a||s.setFilterValues("event.type",["transaction"]),s.setFilterValues("transaction",[n]);const i=c.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:n,fields:[...Object.values(d.g),...Object.values(d.p)],query:s.formatString(),projects:[]},t),o=x(t);return i.withSorts([{field:o.field,kind:"desc"}])}function Z(e){const t=e.withColumns([{kind:"function",function:["count","",void 0,void 0]}]),n=new u.MY(e.query);return Object.keys(n.filters).forEach((e=>{(0,l.h1)(e)&&n.removeFilter(e)})),t.query=n.formatString(),t}const _={[d.g.SUM_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.g.AVG_OCCURRENCE]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","equation|count() / count_unique(id)","sumArray(spans_exclusive_time)"],[d.g.COUNT]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.p.P50_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.5)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.p.P75_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.p.P95_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.95)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[d.p.P99_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.99)","count()","count_unique(id)","sumArray(spans_exclusive_time)"]}},"./app/views/performance/transactionSummary/transactionTags/utils.tsx":(e,t,n)=>{n.d(t,{Zn:()=>s,bZ:()=>i,vG:()=>o,oc:()=>c,oT:()=>l});var a=n("./app/utils/analytics.tsx"),r=n("./app/utils/queryString.tsx");function s(e){return(0,r.ro)(e.query.tagKey)}function i(e){(0,a.ec)({eventKey:"performance_views.tags.interaction",eventName:"Performance Views: Tag Page - Interaction",organization_id:parseInt(e.id,10)})}function o(e){let{orgSlug:t,transaction:n,projectID:a,query:r}=e;return{pathname:function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/summary/tags/`}({orgSlug:t}),query:{transaction:n,project:a,environment:r.environment,statsPeriod:r.statsPeriod,start:r.start,end:r.end,query:r.query,tagKey:r.tagKey}}}function c(e){var t,n;let a=null!==(t=(0,r.ro)(null===(n=e.query)||void 0===n?void 0:n.tagSort))&&void 0!==t?t:"-frequency";return["sumdelta"].find((e=>{var t;return null===(t=a)||void 0===t?void 0:t.includes(e)}))&&(a="-frequency"),a}function l(e){const t=Object.keys(e).find((e=>e.includes("histogram")));if(!t)return;const n=t.split("_");return{histogramField:t,bucketSize:parseInt(n[n.length-3],10),offset:parseInt(n[n.length-2],10),multiplier:parseInt(n[n.length-1],10)}}},"./app/views/performance/transactionSummary/transactionVitals/utils.tsx":(e,t,n)=>{n.d(t,{Pl:()=>r,oZ:()=>s,eH:()=>i,L0:()=>o,jb:()=>c});var a=n("./app/utils/performance/histogram/utils.tsx");function r(e){let{orgSlug:t,transaction:n,projectID:a,query:r}=e;return{pathname:function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/summary/vitals/`}({orgSlug:t}),query:{transaction:n,project:a,environment:r.environment,statsPeriod:r.statsPeriod,start:r.start,end:r.end,query:r.query}}}function s(e,t){const n=(0,a.te)(e);return!e.length||t>=e[e.length-1].bin+n?null:t<e[0].bin?-1:Math.floor((t-e[0].bin)/n)}function i(e){if(e.length<2)return null;for(let t=0;t<e.length;t++){const n=e[t];for(let a=t+1;a<e.length;a++){const r=e[a];if(n.bin!==r.bin&&n.count!==r.count)return{point1:{x:t,y:Math.min(n.count,r.count)},point2:{x:a,y:Math.max(n.count,r.count)}}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function o(e,t){const n=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point1.x,t.point1.y]);if(isNaN(null==n?void 0:n[0])||isNaN(null==n?void 0:n[1]))return null;const a=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point2.x,t.point2.y]);return isNaN(null==a?void 0:a[0])||isNaN(null==a?void 0:a[1])?null:{point1:{x:n[0],y:n[1]},point2:{x:a[0],y:a[1]}}}function c(e,t,n){if(t.point1.x===t.point2.x||t.point1.y===t.point2.y||n.point1.x===n.point2.x||n.point1.y===n.point2.y)return null;const a=(e.x-t.point1.x)/(t.point2.x-t.point1.x),r=(e.y-t.point1.y)/(t.point2.y-t.point1.y);return{x:n.point1.x+(n.point2.x-n.point1.x)*a,y:n.point1.y+(n.point2.y-n.point1.y)*r}}}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionSummary_pageLayout_tsx.c8d8c26b2ce0551f02adefb99e3e3f75.js.map