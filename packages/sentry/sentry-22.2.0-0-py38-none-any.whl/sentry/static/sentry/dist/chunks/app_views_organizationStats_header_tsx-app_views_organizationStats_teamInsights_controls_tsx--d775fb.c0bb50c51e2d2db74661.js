"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_organizationStats_header_tsx-app_views_organizationStats_teamInsights_controls_tsx--d775fb"],{"./app/components/pageTimeRangeSelector.tsx":(e,t,s)=>{s.d(t,{Z:()=>g});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),n=s("./app/components/organizations/timeRangeSelector/index.tsx"),i=s("./app/components/panels/index.tsx"),r=s("./app/constants/index.tsx"),d=s("./app/locale.tsx"),l=s("./app/styles/space.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{className:t,...s}=e;const[a,i]=(0,o.useState)(!1);return(0,m.tZ)(u,{className:t,isCalendarOpen:a,children:(0,m.tZ)(n.Z,{label:(0,m.tZ)(p,{children:(0,d.t)("Date Range:")}),onToggleSelector:e=>i(e),relativeOptions:r.wh,...s},`period:${s.relative}-start:${s.start}-end:${s.end}-utc:${s.utc}-defaultPeriod:${s.defaultPeriod}`)})}c.displayName="PageTimeRangeSelector";const u=(0,a.Z)(i.s_,{target:"e1hsuxgy1"})("display:flex;justify-content:center;align-items:center;height:42px;background:",(e=>e.theme.background),";border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.isCalendarOpen?`${e.theme.borderRadius} ${e.theme.borderRadius} 0 0`:e.theme.borderRadius),";padding:0;margin:0;font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.textColor),";>div{width:100%;align-self:stretch;}>div>div:first-child{padding:0 ",(0,l.Z)(2),";}>div>div:last-child{box-sizing:content-box;font-size:1em;}"),p=(0,a.Z)("span",{target:"e1hsuxgy0"})("text-align:left;font-weight:600;color:",(e=>e.theme.textColor),";>span:last-child{font-weight:400;}"),g=c},"./app/views/organizationStats/header.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/button.tsx"),n=s("./app/components/layouts/thirds.tsx"),i=s("./app/components/links/link.tsx"),r=s("./app/locale.tsx"),d=s("./app/styles/space.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{organization:t,activeTab:s}=e;return(0,l.BX)(n.h4,{children:[(0,l.tZ)(n.oB,{children:(0,l.tZ)(u,{children:(0,r.t)("Stats")})}),(0,l.tZ)(n.kP,{children:"stats"!==s&&(0,l.tZ)(o.ZP,{title:(0,r.t)("Send us feedback via email"),size:"small",href:"mailto:workflow-feedback@sentry.io?subject=Team Stats Feedback",children:(0,r.t)("Give Feedback")})}),(0,l.BX)(n.mL,{underlined:!0,children:[(0,l.tZ)("li",{className:"stats"===s?"active":"",children:(0,l.tZ)(i.Z,{to:`/organizations/${t.slug}/stats/`,children:(0,r.t)("Usage")})}),(0,l.tZ)("li",{className:"issues"===s?"active":"",children:(0,l.tZ)(i.Z,{to:`/organizations/${t.slug}/stats/issues/`,children:(0,r.t)("Issues")})}),(0,l.tZ)("li",{className:"health"===s?"active":"",children:(0,l.tZ)(i.Z,{to:`/organizations/${t.slug}/stats/health/`,children:(0,r.t)("Health")})})]})]})}m.displayName="StatsHeader";const c=m,u=(0,a.Z)(n.Dx,{target:"e8yr0f60"})("margin-top:",(0,d.Z)(.5),";")},"./app/views/organizationStats/teamInsights/controls.tsx":(e,t,s)=>{s.d(t,{Z:()=>v});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),n=s("../node_modules/lodash/pick.js"),i=s.n(n),r=s("../node_modules/moment/moment.js"),d=s.n(r),l=s("./app/components/deprecatedforms/teamSelector.tsx"),m=s("./app/components/pageTimeRangeSelector.tsx"),c=s("./app/locale.tsx"),u=s("./app/styles/space.tsx"),p=s("./app/utils/isActiveSuperuser.tsx"),g=s("./app/utils/localStorage.tsx"),h=s("./app/utils/useOrganization.tsx"),b=s("./app/views/organizationStats/teamInsights/utils.tsx"),x=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const f=["pageStatsPeriod","pageStart","pageEnd","pageUtc","dataCategory","transform","sort","query","cursor","team"];function w(e){var t;let{location:s,router:a,currentTeam:n}=e;const r=(0,h.Z)(),l=(0,p.M)(),m=(0,o.u)(),w=null!==(t=null==s?void 0:s.query)&&void 0!==t?t:{},v=`teamInsightsSelectedTeamId:${r.slug}`;function j(e){const t=i()(e,f),o={...s,query:{...w,...t}};return a.push(o),o}const{period:z,start:k,end:_,utc:T}=(0,b.lI)(w);return(0,x.BX)(Z,{children:[(0,x.tZ)(y,{name:"select-team",inFieldLabel:(0,c.t)("Team: "),value:null==n?void 0:n.slug,onChange:e=>{return t=e.actor.id,g.Z.setItem(v,t),void j({team:t});var t},teamFilter:l?void 0:e=>e.isMember,styles:{singleValue(e){const t={display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:m.fontSizeMedium,":before":{...e[":before"],color:m.textColor,marginRight:(0,u.Z)(1.5),marginLeft:(0,u.Z)(.5)}};return{...e,...t}},input:(e,t)=>({...e,display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center",gridGap:(0,u.Z)(1),":before":{backgroundColor:t.theme.backgroundSecondary,height:24,width:38,borderRadius:3,content:'""',display:"block"}})}}),(0,x.tZ)(S,{organization:r,relative:null!=z?z:"",start:null!=k?k:null,end:null!=_?_:null,utc:null!=T?T:null,onUpdate:function(e){const{start:t,end:s,relative:a,utc:o}=e;if(t&&s){const e=o?d().utc:d();return j({pageStatsPeriod:void 0,pageStart:e(t).format(),pageEnd:e(s).format(),pageUtc:null!=o?o:void 0})}return j({pageStatsPeriod:a||void 0,pageStart:void 0,pageEnd:void 0,pageUtc:void 0})},showAbsolute:!1,relativeOptions:{"14d":(0,c.t)("Last 2 weeks"),"4w":(0,c.t)("Last 4 weeks"),"8w":(0,c.t)("Last 8 weeks"),"12w":(0,c.t)("Last 12 weeks")}})]})}w.displayName="TeamStatsControls";const v=w,Z=(0,a.Z)("div",{target:"epxns6w2"})("display:grid;align-items:center;gap:",(0,u.Z)(2),";margin-bottom:",(0,u.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-template-columns:246px 1fr;}"),y=(0,a.Z)(l.Z,{target:"epxns6w1"})("&>div{box-shadow:",(e=>e.theme.dropShadowLight),";}"),S=(0,a.Z)(m.Z,{target:"epxns6w0"})({name:"j6w5js",styles:"height:40px;div{min-height:unset;}"})},"./app/views/organizationStats/teamInsights/descriptionCard.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/styles/space.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{title:t,description:s,children:a}=e;return(0,n.BX)(d,{children:[(0,n.BX)(l,{children:[(0,n.tZ)(m,{children:t}),(0,n.tZ)(c,{children:s})]}),(0,n.tZ)(u,{children:a})]})}i.displayName="DescriptionCard";const r=i,d=(0,a.Z)("div",{target:"eyf29hd4"})("border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadius),";display:flex;margin-bottom:",(0,o.Z)(3),";flex-direction:column;@media (min-width: ",(e=>e.theme.breakpoints[1]),"){flex-direction:row;}"),l=(0,a.Z)("div",{target:"eyf29hd3"})("padding:",(0,o.Z)(2)," ",(0,o.Z)(2),";border-bottom:1px solid ",(e=>e.theme.border),";@media (min-width: ",(e=>e.theme.breakpoints[1]),"){max-width:250px;border-right:1px solid ",(e=>e.theme.border),";border-bottom:0;}"),m=(0,a.Z)("div",{target:"eyf29hd2"})("font-size:",(e=>e.theme.fontSizeLarge),";margin:0 0 ",(0,o.Z)(.5),";"),c=(0,a.Z)("div",{target:"eyf29hd1"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";"),u=(0,a.Z)("div",{target:"eyf29hd0"})({name:"1ff36h2",styles:"flex-grow:1"})},"./app/views/organizationStats/teamInsights/styles.tsx":(e,t,s)=>{s.d(t,{R:()=>n,W:()=>i});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/idBadge/index.tsx");const n=(0,a.Z)("div",{target:"e1l696dj1"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),i=(0,a.Z)(o.Z,{target:"e1l696dj0"})({name:"ozd7xs",styles:"flex-shrink:0"})},"./app/views/organizationStats/teamInsights/utils.tsx":(e,t,s)=>{s.d(t,{bI:()=>d,E7:()=>l,NW:()=>m,tP:()=>c,lI:()=>u}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var a=s("../node_modules/lodash/chunk.js"),o=s.n(a),n=s("../node_modules/moment/moment.js"),i=s.n(n),r=s("./app/components/organizations/pageFilters/parse.tsx");function d(e){const t=e.sort(((e,t)=>new Date(e.name).getTime()-new Date(t.name).getTime()));return o()(t,7).map((e=>({name:e[0].name,value:e.reduce(((e,t)=>e+t.value),0)})))}function l(e){return Object.entries(e).map((e=>{let[t,s]=e;return{value:s,name:new Date(t).getTime()}}))}function m(e){return[...e.filter((e=>Math.round(e.trend)<0)),...e.filter((e=>Math.round(e.trend)>0)),...e.filter((e=>0===Math.round(e.trend)))]}const c=e=>({splitNumber:e,type:"category",min:0,axisLabel:{showMaxLabel:!0,showMinLabel:!0,formatter:e=>i()(new Date(Number(e))).format("MMM D")}});function u(e){const{start:t,end:s,statsPeriod:a,utc:o}=(0,r.fK)(e,{allowEmptyPeriod:!0,allowAbsoluteDatetime:!0,allowAbsolutePageDatetime:!0});if(!a&&!t&&!s)return{period:"8w"};if(a)return{period:a};const n="true"===o;return t&&s?n?{start:i().utc(t).format(),end:i().utc(s).format(),utc:n}:{start:i()(t).utc().format(),end:i()(s).utc().format(),utc:n}:{period:"8w"}}}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationStats_header_tsx-app_views_organizationStats_teamInsights_controls_tsx--d775fb.5506dd45be5c9cee3b47f796fc011e04.js.map