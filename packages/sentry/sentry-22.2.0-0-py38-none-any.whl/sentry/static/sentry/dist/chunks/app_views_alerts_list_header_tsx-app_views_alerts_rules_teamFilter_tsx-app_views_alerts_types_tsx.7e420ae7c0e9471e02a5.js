"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_list_header_tsx-app_views_alerts_rules_teamFilter_tsx-app_views_alerts_types_tsx"],{"./app/views/alerts/list/header.tsx":(e,t,o)=>{o.d(t,{Z:()=>g});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(o("../node_modules/react/index.js"),o("./app/actionCreators/navigation.tsx")),i=o("./app/components/button.tsx"),r=o("./app/components/buttonBar.tsx"),a=o("./app/components/createAlertButton.tsx"),l=o("./app/components/globalSelectionLink.tsx"),d=o("./app/components/layouts/thirds.tsx"),c=o("./app/icons/index.tsx"),p=o("./app/locale.tsx"),m=o("./app/styles/space.tsx"),h=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=e=>{let{router:t,organization:o,activeTab:s}=e;const r=(0,h.tZ)("li",{className:"rules"===s?"active":"",children:(0,h.tZ)(l.Z,{to:`/organizations/${o.slug}/alerts/rules/`,children:(0,p.t)("Alert Rules")})});return(0,h.BX)(d.h4,{children:[(0,h.tZ)(d.oB,{children:(0,h.tZ)(x,{children:(0,p.t)("Alerts")})}),(0,h.tZ)(d.kP,{children:(0,h.BX)(Z,{gap:1,children:[(0,h.tZ)(a.Z,{organization:o,iconProps:{size:"sm"},priority:"primary",referrer:"alert_stream",showPermissionGuide:!0,children:(0,p.t)("Create Alert")}),(0,h.tZ)(i.ZP,{onClick:e=>{e.preventDefault(),(0,n.T)(`/settings/${o.slug}/projects/:projectId/alerts/`,t)},href:"#",icon:(0,h.tZ)(c.iC,{size:"sm"}),"aria-label":(0,p.t)("Settings")})]})}),(0,h.BX)(d.mL,{underlined:!0,children:[r,(0,h.tZ)("li",{className:"stream"===s?"active":"",children:(0,h.tZ)(l.Z,{to:`/organizations/${o.slug}/alerts/`,children:(0,p.t)("History")})})]})]})};u.displayName="AlertHeader";const g=u,x=(0,s.Z)(d.Dx,{target:"e59niir1"})("margin-top:",(0,m.Z)(.5),";"),Z=(0,s.Z)(r.ZP,{target:"e59niir0"})({name:"s0vnfv",styles:"height:32px"})},"./app/views/alerts/rules/teamFilter.tsx":(e,t,o)=>{o.d(t,{Z:()=>P,L:()=>B});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),i=o("../node_modules/lodash/debounce.js"),r=o.n(i),a=o("../node_modules/classnames/index.js"),l=o.n(a),d=o("../node_modules/lodash/omit.js"),c=o.n(d),p=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{className:t,...o}=e;return(0,p.tZ)("input",{className:l()("form-control",t),...c()(o,"children")})}m.displayName="Input";var h=o("./app/components/loadingIndicator.tsx"),u=o("./app/constants/index.tsx"),g=o("./app/locale.tsx"),x=o("./app/styles/space.tsx"),Z=o("./app/utils/useTeams.tsx"),b=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),w=o("./app/components/checkboxFancy/checkboxFancy.tsx"),y=o("./app/components/dropdownButton.tsx"),v=o("./app/components/dropdownControl.tsx"),f=o("./app/icons/index.tsx"),C=o("./app/styles/overflowEllipsis.tsx");function k(e){let{id:t,label:o,items:s,toggleSection:i,toggleFilter:r}=e;const a=s.filter((e=>e.checked)).length;return(0,p.BX)(n.Fragment,{children:[(0,p.BX)(A,{children:[(0,p.tZ)("span",{children:o}),(0,p.tZ)(w.Z,{isChecked:a===s.length,isIndeterminate:a>0&&a!==s.length,onClick:e=>{e.stopPropagation(),i(t)}})]}),s.filter((e=>!e.filtered)).map((e=>(0,p.BX)(D,{isChecked:e.checked,onClick:o=>{o.stopPropagation(),r(t,e.value)},children:[(0,p.tZ)(N,{children:e.label}),(0,p.tZ)(w.Z,{isChecked:e.checked})]},e.value)))]})}k.displayName="FilterSection";class S extends n.Component{constructor(){super(...arguments),(0,b.Z)(this,"toggleFilter",((e,t)=>{const{onFilterChange:o,dropdownSections:s}=this.props,n=s.find((t=>t.id===e)),i=new Set(n.items.filter((e=>e.checked)).map((e=>e.value)));i.has(t)?i.delete(t):i.add(t),o(e,i)})),(0,b.Z)(this,"toggleSection",(e=>{const{onFilterChange:t}=this.props,o=this.props.dropdownSections.find((t=>t.id===e)),s=o.items.filter((e=>e.checked)),n=o.items.length===s.length?new Set:new Set(o.items.map((e=>e.value)));t(e,n)})),(0,b.Z)(this,"getNumberOfActiveFilters",(()=>this.props.dropdownSections.map((e=>e.items)).flat().filter((e=>e.checked)).length))}render(){const{dropdownSections:e,header:t}=this.props,o=this.getNumberOfActiveFilters(),s={children:(0,g.t)("Filter"),priority:"default",hasDarkBorderBottomColor:!1};return o>0&&(s.children=(0,g.tn)("%s Active Filter","%s Active Filters",o),s.hasDarkBorderBottomColor=!0),(0,p.tZ)(v.ZP,{menuWidth:"240px",blendWithActor:!0,alwaysRenderMenu:!1,button:e=>{let{isOpen:t,getActorProps:o}=e;return(0,p.tZ)(T,{...o(),showChevron:!1,isOpen:t,icon:(0,p.tZ)(f.wH,{size:"xs"}),hasDarkBorderBottomColor:s.hasDarkBorderBottomColor,priority:s.priority,"data-test-id":"filter-button",children:s.children})},children:o=>{let{isOpen:s,getMenuProps:n}=o;return(0,p.tZ)(E,{...n(),isOpen:s,blendCorner:!0,alignMenu:"left",width:"240px",children:(0,p.BX)(_,{children:[t,e.map((e=>(0,p.tZ)(k,{...e,toggleSection:this.toggleSection,toggleFilter:this.toggleFilter},e.id)))]})})}})}}S.displayName="Filter";const E=(0,s.Z)(v.VY,{target:"e18owixo5"})({name:"uoed0r",styles:"max-height:290px;overflow-y:auto"}),A=(0,s.Z)("div",{target:"e18owixo4"})("display:grid;grid-template-columns:auto min-content;grid-column-gap:",(0,x.Z)(1),";align-items:center;margin:0;background-color:",(e=>e.theme.backgroundSecondary),";color:",(e=>e.theme.gray300),";font-weight:normal;font-size:",(e=>e.theme.fontSizeMedium),";padding:",(0,x.Z)(1)," ",(0,x.Z)(2),";border-bottom:1px solid ",(e=>e.theme.border),";"),T=(0,s.Z)(y.Z,{target:"e18owixo3"})("white-space:nowrap;max-width:200px;z-index:",(e=>e.theme.zIndex.dropdown),";"),_=(0,s.Z)("ul",{target:"e18owixo2"})({name:"z06qs",styles:"list-style:none;margin:0;padding:0"}),D=(0,s.Z)("li",{target:"e18owixo1"})("display:grid;grid-template-columns:1fr max-content;grid-column-gap:",(0,x.Z)(1),";align-items:center;padding:",(0,x.Z)(1)," ",(0,x.Z)(2),";border-bottom:1px solid ",(e=>e.theme.border),";:hover{background-color:",(e=>e.theme.backgroundSecondary),";}",w.Z,"{opacity:",(e=>e.isChecked?1:.3),";}&:hover ",w.Z,"{opacity:1;}&:hover span{color:",(e=>e.theme.blue300),";text-decoration:underline;}"),N=(0,s.Z)("div",{target:"e18owixo0"})("font-size:",(e=>e.theme.fontSizeMedium),";",C.Z,";"),F=S,j=["myteams","unassigned"];function B(e){return void 0===e?j:""===e?[]:Array.isArray(e)?e:[e]}function z(e){let{selectedTeams:t,showStatus:o=!1,selectedStatus:s=new Set,handleChangeFilter:i}=e;const{teams:a,onSearch:l,fetching:d}=(0,Z.Z)(),c=r()(l,u.Dk),[m,h]=(0,n.useState)(),x=[{label:(0,g.t)("Unresolved"),value:"open",checked:s.has("open"),filtered:!1},{label:(0,g.t)("Resolved"),value:"closed",checked:s.has("closed"),filtered:!1}],b=[{label:(0,g.t)("My Teams"),value:"myteams",checked:t.has("myteams"),filtered:!1},{label:(0,g.t)("Unassigned"),value:"unassigned",checked:t.has("unassigned"),filtered:!1}],w=a.map((e=>{let{id:o,slug:s}=e;return{label:s,value:o,filtered:!!m&&!s.toLowerCase().includes(m.toLowerCase()),checked:t.has(o)}}));return(0,p.tZ)(F,{header:(0,p.BX)(R,{children:[(0,p.tZ)(I,{autoFocus:!0,placeholder:(0,g.t)("Filter by team slug"),onClick:e=>{e.stopPropagation()},onChange:e=>{const t=e.target.value;h(t),c(t)},value:m||""}),d&&(0,p.tZ)(L,{size:16,mini:!0})]}),onFilterChange:i,dropdownSections:[...o?[{id:"status",label:(0,g.t)("Status"),items:x}]:[],{id:"teams",label:(0,g.t)("Teams"),items:[...b,...w]}]})}z.displayName="TeamFilter";const P=z,R=(0,s.Z)("div",{target:"e1jkzz582"})({name:"bjn8wh",styles:"position:relative"}),I=(0,s.Z)(m,{target:"e1jkzz581"})({name:"1x0bpia",styles:"border:none;border-bottom:1px solid transparent;border-radius:0"}),L=(0,s.Z)(h.Z,{target:"e1jkzz580"})("position:absolute;right:0;top:",(0,x.Z)(.75),";")},"./app/views/alerts/types.tsx":(e,t,o)=>{let s,n,i,r;o.d(t,{lm:()=>s,vt:()=>n,Xn:()=>i,Gb:()=>r}),function(e){e[e.CREATED=0]="CREATED",e[e.DETECTED=1]="DETECTED",e[e.STATUS_CHANGE=2]="STATUS_CHANGE",e[e.COMMENT=3]="COMMENT",e[e.STARTED=4]="STARTED"}(s||(s={})),function(e){e[e.OPENED=1]="OPENED",e[e.CLOSED=2]="CLOSED",e[e.WARNING=10]="WARNING",e[e.CRITICAL=20]="CRITICAL"}(n||(n={})),function(e){e[e.MANUAL=1]="MANUAL",e[e.RULE_UPDATED=2]="RULE_UPDATED",e[e.RULE_TRIGGERED=3]="RULE_TRIGGERED"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SNAPSHOT=4]="SNAPSHOT",e[e.DISABLED=5]="DISABLED"}(r||(r={}))}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_list_header_tsx-app_views_alerts_rules_teamFilter_tsx-app_views_alerts_types_tsx.1fbd7d8b9f1dc7783b393b6f4f7cb918.js.map