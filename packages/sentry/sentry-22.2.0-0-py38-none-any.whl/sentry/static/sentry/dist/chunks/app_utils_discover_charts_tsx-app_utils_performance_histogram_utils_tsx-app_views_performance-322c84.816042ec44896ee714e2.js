"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_utils_discover_charts_tsx-app_utils_performance_histogram_utils_tsx-app_views_performance-322c84"],{"./app/utils/discover/charts.tsx":(t,e,n)=>{n.d(e,{CX:()=>o,gu:()=>c});var r=n("./app/locale.tsx"),s=n("./app/utils.tsx"),i=n("./app/utils/discover/fields.tsx"),a=n("./app/utils/formatters.tsx");function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(0,s.ri)(t))return"â€”";switch((0,i.Px)(e)){case"integer":case"number":return t.toLocaleString();case"percentage":return(0,a.rl)(t,2);case"duration":return(0,a.g9)(t/1e3,2,!0);default:return t.toString()}}function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch((0,i.Px)(e)){case"integer":case"number":return n?(0,a.Du)(t):t.toLocaleString();case"percentage":return(0,a.rl)(t,0);case"duration":return u(t);default:return t.toString()}}function u(t){if(0===t)return"0";if(t>=a.ps){const e=(t/a.ps).toFixed(0);return(0,r.t)("%swk",e)}if(t>=a.x4){const e=(t/a.x4).toFixed(0);return(0,r.t)("%sd",e)}if(t>=a.kr){const e=(t/a.kr).toFixed(0);return(0,r.t)("%shr",e)}if(t>=a.EB){const e=(t/a.EB).toFixed(0);return(0,r.t)("%smin",e)}if(t>=a.sh){const e=(t/a.sh).toFixed(0);return(0,r.t)("%ss",e)}const e=t.toFixed(0);return(0,r.t)("%sms",e)}},"./app/utils/performance/histogram/utils.tsx":(t,e,n)=>{n.d(e,{te:()=>s,_W:()=>i,GT:()=>a});var r=n("./app/utils/formatters.tsx");function s(t){return t.length>=2?t[1].bin-t[0].bin:0}function i(t){const e=s(t);return t.map((t=>{const n=t.bin;return{start:n,end:n+e}}))}function a(t){let{precision:e,type:n,additionalFieldsFn:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t=>{switch(n){case"duration":const s=null!=e?e:t<1e3?0:3;return(0,r.g9)(t/1e3,s,!0);case"number":const i=10**(null!=e?e:0);return(Math.round((t+Number.EPSILON)*i)/i).toLocaleString();default:throw new Error(`Unable to format type: ${n}`)}};return t.map((t=>{var e;return{value:t.count,name:i(t.bin),...null!==(e=null==s?void 0:s(t.bin))&&void 0!==e?e:{}}}))}},"./app/views/performance/metricsSwitch.tsx":(t,e,n)=>{n.d(e,{BR:()=>m,z5:()=>g,_4:()=>v,j9:()=>x});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),i=n("./app/components/acl/feature.tsx"),a=n("./app/components/switchButton.tsx"),o=n("./app/locale.tsx"),c=n("./app/styles/space.tsx"),u=n("./app/utils/localStorage.tsx"),p=n("./app/utils/useOrganization.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d="metrics-performance-ui";function m(t){let{onSwitch:e}=t;const n=(0,p.Z)(),{isMetricsData:r,setIsMetricsData:s}=v();return(0,l.tZ)(i.Z,{features:[d],organization:n,children:(0,l.BX)(f,{children:[(0,o.t)("Metrics Data"),(0,l.tZ)(a.Z,{isActive:r,toggle:function(){e(),s(!r)},size:"lg"})]})})}m.displayName="MetricsSwitch";const f=(0,r.Z)("label",{target:"euzi8um0"})("display:flex;align-items:center;justify-content:center;margin-bottom:0;gap:",(0,c.Z)(1),";font-weight:normal;"),x=(0,s.createContext)({isMetricsData:!1,setIsMetricsData:t=>{}});function g(t){let{children:e}=t;const n=(0,p.Z)(),r=`metrics.performance:${n.slug}`,[i,a]=(0,s.useState)("true"===u.Z.getItem(r));return(0,l.tZ)(x.Provider,{value:{isMetricsData:i&&n.features.includes(d),setIsMetricsData:function(t){u.Z.setItem(r,t.toString()),a(t)}},children:e})}function v(){return(0,s.useContext)(x)}g.displayName="MetricsSwitchContextContainer"},"./app/views/performance/transactionSummary/transactionEvents/utils.tsx":(t,e,n)=>{n.d(e,{q3:()=>o,_S:()=>c,xr:()=>u,tb:()=>p,qg:()=>l,Zq:()=>d});var r=n("./app/locale.tsx"),s=n("./app/utils/queryString.tsx"),i=n("./app/views/performance/transactionSummary/filter.tsx"),a=n("./app/views/performance/transactionSummary/utils.tsx");let o;function c(t,e){const{p99:n,p95:s,p75:a,p50:c}=e||{p99:0,p95:0,p75:0,p50:0};return{[o.p50]:{name:o.p50,query:c?[["transaction.duration",`<=${c.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,i.T$)(t)||"transaction.duration"},label:(0,r.t)("p50")},[o.p75]:{name:o.p75,query:a?[["transaction.duration",`<=${a.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,i.T$)(t)||"transaction.duration"},label:(0,r.t)("p75")},[o.p95]:{name:o.p95,query:s?[["transaction.duration",`<=${s.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,i.T$)(t)||"transaction.duration"},label:(0,r.t)("p95")},[o.p99]:{name:o.p99,query:n?[["transaction.duration",`<=${n.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,i.T$)(t)||"transaction.duration"},label:(0,r.t)("p99")},[o.p100]:{name:o.p100,label:(0,r.t)("p100")}}}function u(t){let{orgSlug:e,transaction:n,projectID:r,query:s}=t;return{pathname:`/organizations/${e}/performance/summary/events/`,query:{transaction:n,project:r,environment:s.environment,statsPeriod:s.statsPeriod,start:s.start,end:s.end,query:s.query}}}function p(t){return e=(0,s.ro)(t.query.showTransactions,o.p100),Object.values(o).includes(e)?e:o.p100;var e}function l(t,e){var n,r;const s=c(e),i=null===(n=s[t].sort)||void 0===n?void 0:n.kind,a=null===(r=s[t].sort)||void 0===r?void 0:r.field,o={showTransactions:t};return i&&a&&(o.sort=`${"desc"===i?"-":""}${a}`),o}function d(t){switch(t){case a.K0.OUTLIER:return o.p100;case a.K0.SLOW:return o.p95;default:return}}!function(t){t.p50="p50",t.p75="p75",t.p95="p95",t.p99="p99",t.p100="p100"}(o||(o={}))}}]);
//# sourceMappingURL=../sourcemaps/app_utils_discover_charts_tsx-app_utils_performance_histogram_utils_tsx-app_views_performance-322c84.0e03ec8e255ffa48f7f80ec198c99e96.js.map