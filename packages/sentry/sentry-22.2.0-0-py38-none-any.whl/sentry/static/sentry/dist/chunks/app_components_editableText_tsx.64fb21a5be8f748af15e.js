"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_editableText_tsx"],{"./app/components/editableText.tsx":(e,t,n)=>{n.d(t,{Z:()=>b});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),r=n("./app/actionCreators/indicator.tsx"),i=n("./app/components/forms/controls/input.tsx"),a=n("./app/components/textOverflow.tsx"),d=n("./app/icons/iconEdit.tsx"),c=n("./app/styles/space.tsx"),u=n("./app/utils.tsx");const l=function(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{function t(t){let{key:s}=t;s===e&&n(!0)}function s(t){let{key:s}=t;s===e&&n(!1)}return window.addEventListener("keydown",t),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",s)}}),[e]),t};var p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{value:t,onChange:n,name:s,errorMessage:i,successMessage:a,isDisabled:c=!1,autoSelect:m=!1}=e;const[b,k]=(0,o.useState)(!1),[Z,E]=(0,o.useState)(t),y=!Z.trim(),C=(0,o.useRef)(null),L=(0,o.useRef)(null),j=(0,o.useRef)(null),_=l("Enter"),z=l("Escape");function D(){t!==Z&&E(t),b&&k(!1)}var S,T;S=C,T=()=>{b&&(y?M("error"):(Z!==t&&(n(Z),M("success")),k(!1)))},(0,o.useEffect)((()=>{const e=e=>{const t=null==S?void 0:S.current;t&&!t.contains(e.target)&&T(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[S,T]);const R=(0,o.useCallback)((()=>{if(_){if(y)return void M("error");Z!==t&&(n(Z),M("success")),k(!1)}}),[_,Z,n]),B=(0,o.useCallback)((()=>{z&&D()}),[z]);function M(e){"error"!==e?a&&(0,r.S9)(a):i&&(0,r.Iw)(i)}return(0,o.useEffect)((()=>{D()}),[c,t]),(0,o.useEffect)((()=>{if(b){const e=j.current;(0,u.ri)(e)&&e.focus()}}),[b]),(0,o.useEffect)((()=>{b&&(R(),B())}),[R,B,b]),(0,p.tZ)(x,{isDisabled:c,isEditing:b,children:b?(0,p.BX)(w,{ref:C,isEmpty:y,"data-test-id":"editable-text-input",children:[(0,p.tZ)(v,{name:s,ref:j,value:Z,onChange:function(e){E(e.target.value)},onFocus:e=>m&&e.target.select()}),(0,p.tZ)(h,{children:Z})]}):(0,p.BX)(f,{onClick:c?void 0:function(){k(!0)},ref:L,isDisabled:c,"data-test-id":"editable-text-label",children:[(0,p.tZ)(g,{children:Z}),!c&&(0,p.tZ)(d.y,{})]})})}m.displayName="EditableText";const b=m,f=(0,s.Z)("div",{target:"e1nzw5k75"})("display:grid;grid-auto-flow:column;align-items:center;gap:",(0,c.Z)(1),";cursor:",(e=>e.isDisabled?"default":"pointer"),";"),g=(0,s.Z)(a.Z,{target:"e1nzw5k74"})("border-top:1px solid transparent;border-bottom:1px dotted ",(e=>e.theme.gray200),";"),w=(0,s.Z)("div",{target:"e1nzw5k73"})("display:inline-block;background:",(e=>e.theme.gray100),";border-radius:",(e=>e.theme.borderRadius),";margin:-",(0,c.Z)(.5)," -",(0,c.Z)(1),";max-width:calc(100% + ",(0,c.Z)(2),");"),v=(0,s.Z)(i.Z,{target:"e1nzw5k72"})("border:none!important;background:transparent;height:auto;min-height:34px;padding:",(0,c.Z)(.5)," ",(0,c.Z)(1),";&,&:focus,&:active,&:hover{box-shadow:none;}"),h=(0,s.Z)("div",{target:"e1nzw5k71"})("height:0;opacity:0;white-space:pre;padding:0 ",(0,c.Z)(1),";"),x=(0,s.Z)("div",{target:"e1nzw5k70"})("display:flex;",(e=>e.isDisabled&&`\n      ${g} {\n        border-bottom-color: transparent;\n      }\n    `),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_editableText_tsx.20bf5c39e9b7ef1a36614b1cd5ece1a7.js.map