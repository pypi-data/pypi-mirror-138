"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_landing_widgets_components_performanceWidget_tsx-app_views_performance_-fbdf45"],{"./app/views/performance/landing/widgets/components/performanceWidget.tsx":(t,e,a)=>{a.d(e,{I:()=>D});var i=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(a("../node_modules/core-js/modules/web.dom-collections.iterator.js"),a("../node_modules/react/index.js")),o=a("../node_modules/react-router/es/index.js"),s=a("./app/components/charts/errorPanel.tsx"),n=a("./app/components/placeholder.tsx"),l=a("./app/icons/iconWarning.tsx"),d=a("./app/styles/space.tsx"),p=a("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),_=a("./app/utils/useApi.tsx"),T=a("./app/components/panels/index.tsx");const c=(0,i.Z)(T.s_,{target:"e1evmidq1"})("padding-top:",(0,d.Z)(2),";margin-bottom:0;"),S=(0,i.Z)("div",{target:"e1evmidq0"})("");var A=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(t){return t.isErrored?t.errorComponent:t.isLoading&&t.loadingComponent?t.loadingComponent:t.hasData?(0,A.tZ)(r.Fragment,{children:t.dataComponents}):t.emptyComponent}m.displayName="DataStateSwitch";var R=a("./app/utils/dates.tsx");function u(t){var e;const a=null!==(e=t.children)&&void 0!==e?e:(0,A.tZ)(r.Fragment,{});return t.queries.length?(0,A.tZ)(r.Fragment,{children:t.queries.filter((e=>!e.enabled||e.enabled(t.widgetData))).map((e=>(0,A.tZ)(g,{...t,query:e},e.queryKey)))}):(0,A.tZ)(r.Fragment,{children:a})}function g(t){const e=t.query,a=t.queryProps.eventView.getPageFilters(),i=a.datetime.start?(0,R.hC)(a.datetime.start):null,o=a.datetime.end?(0,R.hC)(a.datetime.end):null;return(0,r.useEffect)((()=>()=>{t.removeWidgetDataForKey(e.queryKey)}),[]),(0,A.tZ)(e.component,{fields:e.fields,yAxis:e.fields,start:i,end:o,period:a.datetime.period,project:a.projects,environment:a.environments,organization:t.queryProps.organization,orgSlug:t.queryProps.organization.slug,eventView:t.queryProps.eventView,query:t.queryProps.eventView.getQueryWithAdditionalConditions(),widgetData:t.widgetData,referrer:(s=t.queryProps.chartSetting,`api.performance.generic-widget-chart.${s.replaceAll("_","-")}`),children:a=>(0,A.tZ)(r.Fragment,{children:(0,A.tZ)(E,{results:a,...t,query:e})})},e.queryKey);var s}function E(t){const{results:e,query:a}=t,i=a.transform(t.queryProps,e,t.query);return(0,r.useEffect)((()=>{t.setWidgetDataForKey(a.queryKey,i)}),[null==i?void 0:i.hasData,null==i?void 0:i.isLoading,null==i?void 0:i.isErrored]),(0,A.tZ)(r.Fragment,{})}u.displayName="QueryHandler",g.displayName="SingleQueryHandler",E.displayName="QueryResultSaver";var h=a("./app/components/charts/styles.tsx"),y=a("./app/components/questionTooltip.tsx"),O=a("./app/components/textOverflow.tsx");function f(t){const{title:e,titleTooltip:a,Subtitle:i,HeaderActions:r}=t;return(0,A.BX)(I,{children:[(0,A.BX)(C,{children:[(0,A.BX)(N,{"data-test-id":"performance-widget-title",children:[(0,A.tZ)(O.Z,{children:e}),(0,A.tZ)(y.Z,{position:"top",size:"sm",title:a})]}),i?(0,A.tZ)(i,{...t}):null]}),(0,A.tZ)(P,{children:r&&(0,A.tZ)(r,{...t})})]})}f.displayName="WidgetHeader";const N=(0,i.Z)(h.ws,{target:"evi51ay3"})({name:"ld8wu3",styles:"position:relative;z-index:initial"}),C=(0,i.Z)("div",{target:"evi51ay2"})({name:"6kz1wu",styles:"display:flex;flex-direction:column;align-items:flex-start"}),I=(0,i.Z)("div",{target:"evi51ay1"})("display:flex;justify-content:space-between;gap:",(0,d.Z)(1),";"),P=(0,i.Z)("div",{target:"evi51ay0"})("display:flex;gap:",(0,d.Z)(1),";");function D(t){var e;const[a,i]=(0,r.useState)({}),o=null!==(e=a[t.chartSetting])&&void 0!==e?e:{},s=(0,r.useRef)(o),n=(0,r.useCallback)(((e,a)=>{const r={...s.current,[e]:a};s.current=r,i({[t.chartSetting]:r})}),[a,i]),l=(0,r.useCallback)((e=>{const a={...s.current};delete a[e],s.current=a,i({[t.chartSetting]:a})}),[a,i]),d={widgetData:o,setWidgetDataForKey:n,removeWidgetDataForKey:l},p=Object.entries(t.Queries).map((t=>{let[e,a]=t;return{...a,queryKey:e}})),T=(0,_.Z)(),c=t.Visualizations.reduce(((t,e)=>t+e.height),0);return(0,A.BX)(r.Fragment,{children:[(0,A.tZ)(u,{eventView:t.eventView,widgetData:o,setWidgetDataForKey:n,removeWidgetDataForKey:l,queryProps:t,queries:p,api:T}),(0,A.tZ)(Z,{...t,...d,totalHeight:c})]})}function Z(t){const{Visualizations:e,chartHeight:a,totalHeight:i,containerType:r,EmptyComponent:o}=t,s=(t=>{let{containerType:e}=t;return"panel"===e?c:S})({containerType:r}),n=Object.keys(t.Queries).length,l=Object.values(t.widgetData).length!==n,d=!l&&Object.values(t.widgetData).every((t=>!t||t.hasData)),_=Object.values(t.widgetData).some((t=>!t||t.isLoading)),T=!l&&Object.values(t.widgetData).some((t=>t&&t.isErrored));return(0,A.BX)(s,{"data-test-id":"performance-widget-container",children:[(0,A.tZ)(v,{children:(0,A.tZ)(f,{...t})}),(0,A.tZ)(m,{isLoading:_,isErrored:T,hasData:d,errorComponent:(0,A.tZ)(M,{height:i}),dataComponents:e.map(((e,i)=>(0,A.tZ)(v,{noPadding:e.noPadding,bottomPadding:e.bottomPadding,"data-test-id":"widget-state-has-data",onClick:()=>{return e=t.chartSetting,a=t.organization,void(0,p.Z)("performance_views.landingv3.widget.interaction",{organization:a,widget_type:e});var e,a},children:(0,A.tZ)(e.component,{grid:w,queryFields:e.fields,widgetData:t.widgetData,height:a})},i))),loadingComponent:(0,A.tZ)($,{height:`${i}px`}),emptyComponent:o?(0,A.tZ)(o,{}):(0,A.tZ)($,{height:`${i}px`})})]})}D.displayName="GenericPerformanceWidget",Z.displayName="_DataDisplay",(0,o.withRouter)(Z);const M=t=>(0,A.tZ)(s.Z,{"data-test-id":"widget-state-is-errored",height:`${t.height}px`,children:(0,A.tZ)(l.F,{color:"gray300",size:"lg"})});M.displayName="DefaultErrorComponent";const w={left:(0,d.Z)(0),right:(0,d.Z)(0),top:(0,d.Z)(2),bottom:(0,d.Z)(1)},v=(0,i.Z)("div",{target:"eqcpc8s1"})("padding-left:",(t=>t.noPadding?(0,d.Z)(0):(0,d.Z)(2)),";padding-right:",(t=>t.noPadding?(0,d.Z)(0):(0,d.Z)(2)),";padding-bottom:",(t=>t.bottomPadding?(0,d.Z)(1):(0,d.Z)(0)),";"),$=(0,i.Z)(n.Z,{target:"eqcpc8s0"})({name:"cs3onb",styles:"border-color:transparent;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit"});D.defaultProps={containerType:"panel",chartHeight:200}},"./app/views/performance/landing/widgets/components/selectableList.tsx":(t,e,a)=>{a.d(e,{ZP:()=>S,S$:()=>m,QE:()=>R,qL:()=>u,xq:()=>g,Nm:()=>E});var i=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=a("./app/components/emptyStateWarning.tsx"),o=a("./app/components/forms/controls/radioGroup.tsx"),s=a("./app/components/links/link.tsx"),n=a("./app/components/radio.tsx"),l=a("./app/components/tooltip.tsx"),d=a("./app/icons/index.tsx"),p=a("./app/locale.tsx"),_=a("./app/styles/space.tsx"),T=a("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),c=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function S(t){return(0,c.tZ)("div",{children:t.items.map(((e,a)=>(0,T.az)(A,{...t,isSelected:a===t.selectedIndex,currentIndex:a,key:a},e())))})}function A(t){let{isSelected:e,currentIndex:a,children:i,setSelectedIndex:r,radioColor:s}=t;return(0,c.BX)(f,{children:[(0,c.tZ)(N,{color:null!=s?s:"",children:(0,c.tZ)(o.V,{index:a,role:"radio",children:(0,c.tZ)(n.Z,{checked:e,onChange:()=>r(a)})})}),i]})}S.displayName="SelectableList",A.displayName="SelectableItem";const m=(0,i.Z)("div",{target:"e1fgyx4u7"})("text-align:right;display:flex;align-items:center;justify-content:center;padding:0 ",(0,_.Z)(1),";"),R=(0,i.Z)("span",{target:"e1fgyx4u6"})("color:",(t=>t.theme.gray300),";font-size:",(t=>t.theme.fontSizeMedium),";display:inline-block;"),u=(0,i.Z)(s.Z,{target:"e1fgyx4u5"})({name:"pu304d",styles:"flex-grow:1;display:inherit"}),g=()=>(0,c.tZ)(O,{small:!0,children:(0,p.t)("No results")});function E(t){return(0,c.tZ)(h,{title:(0,p.t)("Exclude this transaction from the search filter."),children:(0,c.tZ)(y,{onClick:()=>{t.onClick(),t.setSelectListIndex(0)}})})}g.displayName="WidgetEmptyStateWarning",E.displayName="ListClose";const h=(0,i.Z)(l.Z,{target:"e1fgyx4u4"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),y=(0,i.Z)(d.bM,{target:"e1fgyx4u3"})("cursor:pointer;color:",(t=>t.theme.gray200),";"),O=(0,i.Z)(r.Z,{target:"e1fgyx4u2"})({name:"1t1oqhu",styles:"min-height:300px;justify-content:center"}),f=(0,i.Z)("div",{target:"e1fgyx4u1"})("display:flex;border-top:1px solid ",(t=>t.theme.border),";padding:",(0,_.Z)(1)," ",(0,_.Z)(2),";font-size:",(t=>t.theme.fontSizeMedium),";"),N=(0,i.Z)("div",{target:"e1fgyx4u0"})("grid-row:1/3;input{cursor:pointer;}input:checked::after{background-color:",(t=>t.color),";}")},"./app/views/performance/landing/widgets/types.tsx":(t,e,a)=>{let i,r;a.d(e,{A:()=>r}),function(t){t.ERROR="error",t.LOADING="loading",t.EMPTY="empty",t.DATA="data"}(i||(i={})),function(t){t.histogram="histogram",t.area="area",t.vitals="vitals",t.line_list="line_list",t.trends="trends"}(r||(r={}))},"./app/views/performance/landing/widgets/widgetDefinitions.tsx":(t,e,a)=>{a.d(e,{s:()=>l,W:()=>p});var i=a("./app/constants/chartPalette.tsx"),r=a("./app/locale.tsx"),o=a("./app/utils/metrics/fields.tsx"),s=a("./app/views/performance/data.tsx"),n=a("./app/views/performance/landing/widgets/types.tsx");let l;!function(t){t.DURATION_HISTOGRAM="duration_histogram",t.LCP_HISTOGRAM="lcp_histogram",t.FCP_HISTOGRAM="fcp_histogram",t.FID_HISTOGRAM="fid_histogram",t.APDEX_AREA="apdex_area",t.P50_DURATION_AREA="p50_duration_area",t.P75_DURATION_AREA="p75_duration_area",t.P95_DURATION_AREA="p95_duration_area",t.P99_DURATION_AREA="p99_duration_area",t.P75_LCP_AREA="p75_lcp_area",t.TPM_AREA="tpm_area",t.FAILURE_RATE_AREA="failure_rate_area",t.USER_MISERY_AREA="user_misery_area",t.WORST_LCP_VITALS="worst_lcp_vitals",t.WORST_FCP_VITALS="worst_fcp_vitals",t.WORST_CLS_VITALS="worst_cls_vitals",t.WORST_FID_VITALS="worst_fid_vitals",t.MOST_IMPROVED="most_improved",t.MOST_REGRESSED="most_regressed",t.MOST_RELATED_ERRORS="most_related_errors",t.MOST_RELATED_ISSUES="most_related_issues",t.SLOW_HTTP_OPS="slow_http_ops",t.SLOW_DB_OPS="slow_db_ops",t.SLOW_RESOURCE_OPS="slow_resource_ops",t.SLOW_BROWSER_OPS="slow_browser_ops",t.COLD_STARTUP_AREA="cold_startup_area",t.WARM_STARTUP_AREA="warm_startup_area",t.SLOW_FRAMES_AREA="slow_frames_area",t.FROZEN_FRAMES_AREA="frozen_frames_area",t.MOST_SLOW_FRAMES="most_slow_frames",t.MOST_FROZEN_FRAMES="most_frozen_frames"}(l||(l={}));const d=i.Z[5],p=t=>{let{organization:e,isMetricsData:a}=t;return{[l.DURATION_HISTOGRAM]:{title:(0,r.t)("Duration Distribution"),titleTooltip:(0,s.$r)(e,s.V$.DURATION_DISTRIBUTION),fields:["transaction.duration"],dataType:n.A.histogram,chartColor:d[5]},[l.LCP_HISTOGRAM]:{title:(0,r.t)("LCP Distribution"),titleTooltip:(0,s.$r)(e,s.V$.DURATION_DISTRIBUTION),fields:["measurements.lcp"],dataType:n.A.histogram,chartColor:d[5]},[l.FCP_HISTOGRAM]:{title:(0,r.t)("FCP Distribution"),titleTooltip:(0,s.$r)(e,s.V$.DURATION_DISTRIBUTION),fields:["measurements.fcp"],dataType:n.A.histogram,chartColor:d[5]},[l.FID_HISTOGRAM]:{title:(0,r.t)("FID Distribution"),titleTooltip:(0,s.$r)(e,s.V$.DURATION_DISTRIBUTION),fields:["measurements.fid"],dataType:n.A.histogram,chartColor:d[5]},[l.WORST_LCP_VITALS]:{title:(0,r.t)("Worst LCP Web Vitals"),titleTooltip:(0,s.$r)(e,s.V$.LCP),fields:a?[`count(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_LCP})`]:["measurements.lcp"],vitalStops:{poor:4e3,meh:2500},dataType:n.A.vitals},[l.WORST_FCP_VITALS]:{title:(0,r.t)("Worst FCP Web Vitals"),titleTooltip:(0,s.$r)(e,s.V$.FCP),fields:a?[`count(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_FCP})`]:["measurements.fcp"],vitalStops:{poor:3e3,meh:1e3},dataType:n.A.vitals},[l.WORST_FID_VITALS]:{title:(0,r.t)("Worst FID Web Vitals"),titleTooltip:(0,s.$r)(e,s.V$.FID),fields:a?[`count(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_FID})`]:["measurements.fid"],vitalStops:{poor:300,meh:100},dataType:n.A.vitals},[l.WORST_CLS_VITALS]:{title:(0,r.t)("Worst CLS Web Vitals"),titleTooltip:(0,s.$r)(e,s.V$.CLS),fields:a?[`count(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_CLS})`]:["measurements.cls"],vitalStops:{poor:.25,meh:.1},dataType:n.A.vitals},[l.TPM_AREA]:{title:(0,r.t)("Transactions Per Minute"),titleTooltip:(0,s.$r)(e,s.V$.TPM),fields:a?[`count(${o.kY.SENTRY_TRANSACTIONS_TRANSACTION_DURATION})`]:["tpm()"],dataType:n.A.area,chartColor:d[1]},[l.APDEX_AREA]:{title:(0,r.t)("Apdex"),titleTooltip:(0,s.$r)(e,s.V$.APDEX_NEW),fields:["apdex()"],dataType:n.A.area,chartColor:d[4]},[l.P50_DURATION_AREA]:{title:(0,r.t)("p50 Duration"),titleTooltip:(0,s.$r)(e,s.V$.P50),fields:a?[`p50(${o.kY.SENTRY_TRANSACTIONS_TRANSACTION_DURATION})`]:["p50(transaction.duration)"],dataType:n.A.area,chartColor:d[3]},[l.P75_DURATION_AREA]:{title:(0,r.t)("p75 Duration"),titleTooltip:(0,s.$r)(e,s.V$.P75),fields:a?[`p75(${o.kY.SENTRY_TRANSACTIONS_TRANSACTION_DURATION})`]:["p75(transaction.duration)"],dataType:n.A.area,chartColor:d[3]},[l.P95_DURATION_AREA]:{title:(0,r.t)("p95 Duration"),titleTooltip:(0,s.$r)(e,s.V$.P95),fields:a?[`p95(${o.kY.SENTRY_TRANSACTIONS_TRANSACTION_DURATION})`]:["p95(transaction.duration)"],dataType:n.A.area,chartColor:d[3]},[l.P99_DURATION_AREA]:{title:(0,r.t)("p99 Duration"),titleTooltip:(0,s.$r)(e,s.V$.P99),fields:a?[`p99(${o.kY.SENTRY_TRANSACTIONS_TRANSACTION_DURATION})`]:["p99(transaction.duration)"],dataType:n.A.area,chartColor:d[3]},[l.P75_LCP_AREA]:{title:(0,r.t)("p75 LCP"),titleTooltip:(0,s.$r)(e,s.V$.P75),fields:a?[`p75(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_LCP})`]:["p75(measurements.lcp)"],dataType:n.A.area,chartColor:d[1]},[l.FAILURE_RATE_AREA]:{title:(0,r.t)("Failure Rate"),titleTooltip:(0,s.$r)(e,s.V$.FAILURE_RATE),fields:a?[`count(${o.kY.SENTRY_TRANSACTIONS_TRANSACTION_DURATION})`]:["failure_rate()"],dataType:n.A.area,chartColor:d[2]},[l.USER_MISERY_AREA]:{title:(0,r.t)("User Misery"),titleTooltip:(0,s.$r)(e,s.V$.USER_MISERY),fields:["user_misery()"],dataType:n.A.area,chartColor:d[0]},[l.COLD_STARTUP_AREA]:{title:(0,r.t)("Cold Startup Time"),titleTooltip:(0,s.$r)(e,s.V$.APP_START_COLD),fields:a?[`p75(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_APP_START_COLD})`]:["p75(measurements.app_start_cold)"],dataType:n.A.area,chartColor:d[4]},[l.WARM_STARTUP_AREA]:{title:(0,r.t)("Warm Startup Time"),titleTooltip:(0,s.$r)(e,s.V$.APP_START_WARM),fields:a?[`p75(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_APP_START_WARM})`]:["p75(measurements.app_start_warm)"],dataType:n.A.area,chartColor:d[3]},[l.SLOW_FRAMES_AREA]:{title:(0,r.t)("Slow Frames"),titleTooltip:(0,s.$r)(e,s.V$.SLOW_FRAMES),fields:a?[`p75(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_FRAMES_SLOW_RATE})`]:["p75(measurements.frames_slow_rate)"],dataType:n.A.area,chartColor:d[0]},[l.FROZEN_FRAMES_AREA]:{title:(0,r.t)("Frozen Frames"),titleTooltip:(0,s.$r)(e,s.V$.FROZEN_FRAMES),fields:a?[`p75(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_FRAMES_FROZEN_RATE})`]:["p75(measurements.frames_frozen_rate)"],dataType:n.A.area,chartColor:d[5]},[l.MOST_RELATED_ERRORS]:{title:(0,r.t)("Most Related Errors"),titleTooltip:(0,s.$r)(e,s.V$.MOST_ERRORS),fields:["failure_count()"],dataType:n.A.line_list,chartColor:d[0]},[l.MOST_RELATED_ISSUES]:{title:(0,r.t)("Most Related Issues"),titleTooltip:(0,s.$r)(e,s.V$.MOST_ISSUES),fields:["count()"],dataType:n.A.line_list,chartColor:d[0]},[l.SLOW_HTTP_OPS]:{title:(0,r.t)("Slow HTTP Ops"),titleTooltip:(0,s.$r)(e,s.V$.SLOW_HTTP_SPANS),fields:["p75(spans.http)"],dataType:n.A.line_list,chartColor:d[0]},[l.SLOW_BROWSER_OPS]:{title:(0,r.t)("Slow Browser Ops"),titleTooltip:(0,s.$r)(e,s.V$.SLOW_HTTP_SPANS),fields:["p75(spans.browser)"],dataType:n.A.line_list,chartColor:d[0]},[l.SLOW_RESOURCE_OPS]:{title:(0,r.t)("Slow Resource Ops"),titleTooltip:(0,s.$r)(e,s.V$.SLOW_HTTP_SPANS),fields:["p75(spans.resource)"],dataType:n.A.line_list,chartColor:d[0]},[l.SLOW_DB_OPS]:{title:(0,r.t)("Slow DB Ops"),titleTooltip:(0,s.$r)(e,s.V$.SLOW_HTTP_SPANS),fields:["p75(spans.db)"],dataType:n.A.line_list,chartColor:d[0]},[l.MOST_SLOW_FRAMES]:{title:(0,r.t)("Most Slow Frames"),titleTooltip:(0,s.$r)(e,s.V$.SLOW_FRAMES),fields:a?[`avg(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_FRAMES_SLOW})`]:["avg(measurements.frames_slow)"],dataType:n.A.line_list,chartColor:d[0]},[l.MOST_FROZEN_FRAMES]:{title:(0,r.t)("Most Frozen Frames"),titleTooltip:(0,s.$r)(e,s.V$.FROZEN_FRAMES),fields:a?[`avg(${o.kY.SENTRY_TRANSACTIONS_MEASUREMENTS_FRAMES_FROZEN})`]:["avg(measurements.frames_frozen)"],dataType:n.A.line_list,chartColor:d[0]},[l.MOST_IMPROVED]:{title:(0,r.t)("Most Improved"),titleTooltip:(0,r.t)("This compares the baseline (%s) of the past with the present.","improved"),fields:[],dataType:n.A.trends},[l.MOST_REGRESSED]:{title:(0,r.t)("Most Regressed"),titleTooltip:(0,r.t)("This compares the baseline (%s) of the past with the present.","regressed"),fields:[],dataType:n.A.trends}}}}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_landing_widgets_components_performanceWidget_tsx-app_views_performance_-fbdf45.4c601635c3ea07c26e7c4d56e3909eb4.js.map