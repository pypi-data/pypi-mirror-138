import{_ as v,A as o,E as d}from"./index.5b9a0170.js";import{h as y,P as w,aq as h,z as s,I as k,r as b,o as u,x as c,w as g,d as q,y as a,j as B}from"./vendor.3aa9d18a.js";import{T as C}from"./Timeline.20c938c6.js";const R={class:"timeline-content py-2 px-2 d-flex flex-grow-1"},T=y({async setup(j){let t,r;const i=w(),n=([t,r]=h(()=>o.query({endpoint:d.flow_run,body:{id:i.params.id},options:{pollInterval:5e3}}).fetch()),t=await t,r(),t),_=s(()=>({flow_runs:{id:{any_:[i.params.id]}}})),m={task_runs:o.query({endpoint:d.task_runs,body:_,options:{pollInterval:1e4}})},p=s(()=>{var e;return((e=n.response)==null?void 0:e.value)||{}}),f=s(()=>p.value.end_time),l=s(()=>{var e;return((e=m.task_runs.response)==null?void 0:e.value)||[]});return k(()=>{n.stopPolling(),o.queries.delete(n.id)}),(e,I)=>{const x=b("m-card");return u(),c(x,{class:"timeline d-flex flex-column",width:"auto",shadow:"sm"},{default:g(()=>[q("div",R,[a(l).length?(u(),c(C,{key:0,items:a(l),"max-end-time":a(f),"axis-position":"top","background-color":"blue-5"},null,8,["items","max-end-time"])):B("",!0)])]),_:1})}}});var P=v(T,[["__scopeId","data-v-d499d310"]]);export{P as default};
