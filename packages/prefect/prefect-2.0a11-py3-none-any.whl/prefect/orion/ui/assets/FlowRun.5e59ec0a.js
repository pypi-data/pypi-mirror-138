import{_ as N,A as d,E as y,m as b}from"./index.5b9a0170.js";import{h as z,P as A,i as x,m as B,ap as D,z as o,aq as E,I as T,M,r as g,o as c,c as _,d as p,a as R,y as t,F as L,t as S,x as U,w as W,ar as $,j as f,n as G,q as C}from"./vendor.3aa9d18a.js";const H={key:0,class:"text-truncate d-flex align-center"},J={class:"ml-5"},K=C(" Flow Version: "),O={class:"font-weight-semibold"},Q=C(" Copy Run ID "),X=z({async setup(Y){let n,m;const s=A(),P=x(null),a=x(s==null?void 0:s.params.id),k=B(s,()=>{a.value=s==null?void 0:s.params.id});D(()=>{k()});const q=o(()=>{var e;return(e=w.value.flow_version)!=null?e:"--"}),F=o(()=>({id:a.value})),r=([n,m]=E(()=>d.query({endpoint:y.flow_run,body:F,options:{pollInterval:5e3}}).fetch()),n=await n,m(),n),I=o(()=>({id:r.response.value.flow_id})),v={flow:d.query({endpoint:y.flow,body:I})},V=o(()=>{var e;return((e=v.flow.response)==null?void 0:e.value)||{}}),w=o(()=>{var e;return((e=r.response)==null?void 0:e.value)||{}}),j=o(()=>{var u,h;const e=[{text:(u=V.value)==null?void 0:u.name},{text:(h=w.value)==null?void 0:h.name,to:""}],i=s.fullPath.includes("/timeline"),l=s.fullPath.includes("/radar");return(i||l)&&(e[1].to=`/flow-run/${a.value}`,i&&e.push({text:"Timeline"}),l&&e.push({text:"Radar"})),e});return T(()=>{r.stopPolling(),d.queries.delete(r.id)}),M(()=>{var e;P.value=((e=s.hash)==null?void 0:e.substr(1))||"task_runs"}),B(a,()=>{!a.value||v.flow.fetch()}),(e,i)=>{const l=g("bread-crumbs"),u=g("router-view");return c(),_("div",null,[p("div",{class:G(["d-flex align-center justify-space-between mb-2 py-1 position-relative z-1",{blur:t(s).fullPath.includes("/radar")}])},[R(l,{class:"flex-grow-1",crumbs:t(j),icon:"pi-flow-run"},null,8,["crumbs"]),t(s).fullPath.includes("/radar")?(c(),_(L,{key:0},[t(b).sm?(c(),_("div",H,[p("span",J,[K,p("span",O,S(t(q)),1)]),t(b).md?(c(),U(t($),{key:0,class:"ml-1",value:a.value,toast:"Run ID was copied to clipboard"},{default:W(()=>[Q]),_:1},8,["value"])):f("",!0)])):f("",!0)],64)):f("",!0)],2),R(u)])}}});var se=N(X,[["__scopeId","data-v-65c1e26a"]]);export{se as default};
